{
    "assignee": null,
    "assignees": [],
    "body": "Here is the reproduction code:\r\n\r\n```cython\r\nfrom cpython cimport array\r\nimport array\r\n\r\n\r\ncdef struct MyStruct:\r\n    #float data\r\n    float [:] data\r\n\r\n\r\ncdef test():\r\n    print(\"TEST\")\r\n    \r\n    #cdef float data = 1.\r\n    cdef array.array data = array.array('f', [1., 2., 3.])\r\n    \r\n    cdef MyStruct s = MyStruct(data)\r\n    \r\n    print(s.data[0])\r\n    print(s)\r\n    \r\n    cdef list l = [s]\r\n    cdef MyStruct extracted_s = l[0]\r\n    \r\n    print(extracted_s.data[0])\r\n\r\n    # Make sure that `data` survives at least until now\r\n    print(data)\r\n    print(\"DONE\")\r\n\r\ntest()\r\n```\r\n\r\nRunning the code I get printed only `\"TEST\"` and `s.data[0]` value. `print(s)` and all subsequent `print` calls crash Python with SEGFAULT (`terminated by signal SIGSEGV (Address boundary error)`).\r\n\r\nChanging `float [:]` to a single `float` (uncomment the commented lines in the example above) makes the code work just fine.\r\n\r\nI have tried several versions of Cython (0.24.1, 0.23.5, 0.22.1) with Python 3.5.2 and Python 2.7.12 on Arch Linux x64, and Python 2.7.3 on Ubuntu 12.04. The result is always the same - SEGFAULT.",
    "closed_at": null,
    "comment_data": [
        {
            "body": "As a workaround, I switched to a raw `float*` pointer.",
            "created_at": "2016-09-10T09:10:38Z",
            "html_url": "https://github.com/cython/cython/issues/1453#issuecomment-246101214",
            "id": 246101214,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/1453",
            "updated_at": "2016-09-10T09:10:38Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/246101214",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/304265?v=3",
                "events_url": "https://api.github.com/users/frol/events{/privacy}",
                "followers_url": "https://api.github.com/users/frol/followers",
                "following_url": "https://api.github.com/users/frol/following{/other_user}",
                "gists_url": "https://api.github.com/users/frol/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/frol",
                "id": 304265,
                "login": "frol",
                "organizations_url": "https://api.github.com/users/frol/orgs",
                "received_events_url": "https://api.github.com/users/frol/received_events",
                "repos_url": "https://api.github.com/users/frol/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/frol/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/frol/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/frol"
            }
        }
    ],
    "comments": 1,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/1453/comments",
    "created_at": "2016-09-06T17:18:22Z",
    "event_data": [],
    "events_url": "https://api.github.com/repos/cython/cython/issues/1453/events",
    "html_url": "https://github.com/cython/cython/issues/1453",
    "id": 175302335,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/1453/labels{/name}",
    "locked": false,
    "milestone": null,
    "number": 1453,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "title": "SEGFAULT when using typed memoryview in structs",
    "updated_at": "2016-09-10T09:10:38Z",
    "url": "https://api.github.com/repos/cython/cython/issues/1453",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/304265?v=3",
        "events_url": "https://api.github.com/users/frol/events{/privacy}",
        "followers_url": "https://api.github.com/users/frol/followers",
        "following_url": "https://api.github.com/users/frol/following{/other_user}",
        "gists_url": "https://api.github.com/users/frol/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/frol",
        "id": 304265,
        "login": "frol",
        "organizations_url": "https://api.github.com/users/frol/orgs",
        "received_events_url": "https://api.github.com/users/frol/received_events",
        "repos_url": "https://api.github.com/users/frol/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/frol/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/frol/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/frol"
    }
}