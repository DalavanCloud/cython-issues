{
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "Here an example:\r\n```\r\nbuilding 'Cython.Compiler.FlowControl' extension\r\nC:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\x86_amd64\\cl.exe /c /nologo /Ox /W3 /GL /DNDEBUG /MD -ID:\\Windows\\cdk\\cura-build-environment\\install\\opt\\Python\\include -ID:\\Windows\\cdk\\cura-build-environment\\install\\opt\\Python\\include \"-IC:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\INCLUDE\" \"-IC:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\ATLMFC\\INCLUDE\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.17134.0\\ucrt\" \"-IC:\\Program Files (x86)\\Windows Kits\\NETFXSDK\\4.6.1\\include\\um\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.17134.0\\shared\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.17134.0\\um\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.17134.0\\winrt\" -ID:\\Windows\\cdk\\cura-build-environment\\install\\include \"-IC:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\INCLUDE\" \"-IC:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\ATLMFC\\INCLUDE\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.17134.0\\ucrt\" \"-IC:\\Program Files (x86)\\Windows Kits\\NETFXSDK\\4.6.1\\include\\um\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.17134.0\\shared\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.17134.0\\um\" \"-IC:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.17134.0\\winrt\" /TcD:\\Windows\\cdk\\cura-build-environment\\build\\cython-prefix\\src\\cython\\Cython\\Compiler\\FlowControl.c /Fobuild\\temp.win-amd64-3.5\\Release\\Windows\\cdk\\cura-build-environment\\build\\cython-prefix\\src\\cython\\Cython\\Compiler\\FlowControl.obj\r\nFlowControl.c\r\nC:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\x86_amd64\\link.exe /nologo /INCREMENTAL:NO /LTCG /DLL /MANIFEST:EMBED,ID=2 /MANIFESTUAC:NO /LIBPATH:D:\\Windows\\cdk\\cura-build-environment\\install\\opt\\Python\\libs /LIBPATH:D:\\Windows\\cdk\\cura-build-environment\\install\\opt\\Python\\PCbuild\\amd64 \"/LIBPATH:C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\LIB\\amd64\" \"/LIBPATH:C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\ATLMFC\\LIB\\amd64\" \"/LIBPATH:C:\\Program Files (x86)\\Windows Kits\\10\\lib\\10.0.17134.0\\ucrt\\x64\" \"/LIBPATH:C:\\Program Files (x86)\\Windows Kits\\NETFXSDK\\4.6.1\\lib\\um\\x64\" \"/LIBPATH:C:\\Program Files (x86)\\Windows Kits\\10\\lib\\10.0.17134.0\\um\\x64\" /LIBPATH:D:\\Windows\\cdk\\cura-build-environment\\install\\lib /LIBPATH:D:\\Windows\\cdk\\cura-build-environment\\install\\bin \"/LIBPATH:C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\LIB\\amd64\" \"/LIBPATH:C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\ATLMFC\\LIB\\amd64\" \"/LIBPATH:C:\\Program Files (x86)\\Windows Kits\\10\\lib\\10.0.17134.0\\ucrt\\x64\" \"/LIBPATH:C:\\Program Files (x86)\\Windows Kits\\NETFXSDK\\4.6.1\\lib\\um\\x64\" \"/LIBPATH:C:\\Program Files (x86)\\Windows Kits\\10\\lib\\10.0.17134.0\\um\\x64\" /EXPORT:PyInit_FlowControl build\\temp.win-amd64-3.5\\Release\\Windows\\cdk\\cura-build-environment\\build\\cython-prefix\\src\\cython\\Cython\\Compiler\\FlowControl.obj /OUT:build\\lib.win-amd64-3.5\\Cython\\Compiler\\FlowControl.cp35-win_amd64.pyd /IMPLIB:build\\temp.win-amd64-3.5\\Release\\Windows\\cdk\\cura-build-environment\\build\\cython-prefix\\src\\cython\\Cython\\Compiler\\FlowControl.cp35-win_amd64.lib\r\nFlowControl.obj : warning LNK4197: export 'PyInit_FlowControl' specified multiple times; using first specification\r\n   Creating library build\\temp.win-amd64-3.5\\Release\\Windows\\cdk\\cura-build-environment\\build\\cython-prefix\\src\\cython\\Cython\\Compiler\\FlowControl.cp35-win_amd64.lib and object build\\temp.win-amd64-3.5\\Release\\Windows\\cdk\\cura-build-environment\\build\\cython-prefix\\src\\cython\\Cython\\Compiler\\FlowControl.cp35-win_amd64.exp\r\nGenerating code\r\nFinished generating code\r\n```\r\nSo what you can see is that\r\n```object build\\temp.win-amd64-3.5\\Release\\Windows\\cdk\\cura-build-environment\\build\\cython-prefix\\src\\cython\\Cython\\```\r\nis being used to build all binaries. However, this makes the path very long for no reason. What I expect is to use\r\n```build\\temp.win-amd64-3.5\\Release\\Cython\\```\r\n, because ```\\Windows\\cdk\\cura-build-environment\\build\\cython-prefix\\src\\cython``` is the location (without drive letter) where the sources are stored at build time.\r\nSo it looks like someone is running os.path.join(TEMP_DIR, SOURCE_FILES) at some point, but doing a os.path.realpath on SOURCE_FILES and not os.path.relpath.\r\n\r\nI tried to fix it on my own instead of opening a issue report, but couldn't find it in ```setup.py```.",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "Oh, and the problem is quite serious, because you will get errors on Windows because of too long paths.\r\nAt least, I think that is the reason why my builds fail here. However, somewhere else on a lower level it just works.",
            "created_at": "2018-07-25T11:50:03Z",
            "html_url": "https://github.com/cython/cython/issues/2515#issuecomment-407727296",
            "id": 407727296,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2515",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzcyNzI5Ng==",
            "updated_at": "2018-07-25T11:50:03Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/407727296",
            "user": {
                "avatar_url": "https://avatars3.githubusercontent.com/u/1847437?v=4",
                "events_url": "https://api.github.com/users/thopiekar/events{/privacy}",
                "followers_url": "https://api.github.com/users/thopiekar/followers",
                "following_url": "https://api.github.com/users/thopiekar/following{/other_user}",
                "gists_url": "https://api.github.com/users/thopiekar/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/thopiekar",
                "id": 1847437,
                "login": "thopiekar",
                "node_id": "MDQ6VXNlcjE4NDc0Mzc=",
                "organizations_url": "https://api.github.com/users/thopiekar/orgs",
                "received_events_url": "https://api.github.com/users/thopiekar/received_events",
                "repos_url": "https://api.github.com/users/thopiekar/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/thopiekar/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/thopiekar/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/thopiekar"
            }
        }
    ],
    "comments": 1,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/2515/comments",
    "created_at": "2018-07-24T17:32:02Z",
    "event_data": [],
    "events_url": "https://api.github.com/repos/cython/cython/issues/2515/events",
    "html_url": "https://github.com/cython/cython/issues/2515",
    "id": 344133630,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/2515/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWUzNDQxMzM2MzA=",
    "number": 2515,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "title": "Windows: Too long paths when building from source",
    "updated_at": "2018-07-25T11:50:03Z",
    "url": "https://api.github.com/repos/cython/cython/issues/2515",
    "user": {
        "avatar_url": "https://avatars3.githubusercontent.com/u/1847437?v=4",
        "events_url": "https://api.github.com/users/thopiekar/events{/privacy}",
        "followers_url": "https://api.github.com/users/thopiekar/followers",
        "following_url": "https://api.github.com/users/thopiekar/following{/other_user}",
        "gists_url": "https://api.github.com/users/thopiekar/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/thopiekar",
        "id": 1847437,
        "login": "thopiekar",
        "node_id": "MDQ6VXNlcjE4NDc0Mzc=",
        "organizations_url": "https://api.github.com/users/thopiekar/orgs",
        "received_events_url": "https://api.github.com/users/thopiekar/received_events",
        "repos_url": "https://api.github.com/users/thopiekar/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/thopiekar/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/thopiekar/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/thopiekar"
    }
}