{
    "assignee": null,
    "assignees": [],
    "body": "Running Cython 0.25.2 (tested also on 0.26.alpha0) on the following source file:\r\n```\r\ncimport numpy as np\r\nfrom cython cimport floating\r\n\r\ndef f(np.ndarray[floating] A=None):\r\n    pass\r\n```\r\n\r\nresults in single-line C file:\r\n```\r\n#error Do not use this file, it is the result of a failed Cython compilation.\r\n```\r\n\r\nCython does not report any error on the command line and returns with exit code `0`.\r\n\r\nCython produces correct output when a concrete (as opposed to fused) type is used\r\nin place of `floating`.\r\n\r\nThis is similar to (but distinct from) #1452. Notably, the following examples produce\r\n*correct* output:\r\n```\r\ncimport numpy as np\r\nfrom cython cimport floating\r\n\r\ndef f(np.ndarray[floating] A, B=None):\r\n    pass\r\n```\r\n\r\nand\r\n\r\n```\r\ncimport numpy as np\r\nfrom cython cimport floating\r\n\r\ndef f(floating A=None):\r\n    pass\r\n```\r\n\r\nIt would thus seem that the problem is some interaction between numpy and fused\r\ntypes.\r\n",
    "closed_at": null,
    "comment_data": [],
    "comments": 0,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/1746/comments",
    "created_at": "2017-06-23T11:58:47Z",
    "event_data": [],
    "events_url": "https://api.github.com/repos/cython/cython/issues/1746/events",
    "html_url": "https://github.com/cython/cython/issues/1746",
    "id": 238122114,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/1746/labels{/name}",
    "locked": false,
    "milestone": null,
    "number": 1746,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "title": "Function with ndarray array arguments of fused type with default value results in error",
    "updated_at": "2017-06-23T19:14:51Z",
    "url": "https://api.github.com/repos/cython/cython/issues/1746",
    "user": {
        "avatar_url": "https://avatars2.githubusercontent.com/u/6654709?v=3",
        "events_url": "https://api.github.com/users/jbweston/events{/privacy}",
        "followers_url": "https://api.github.com/users/jbweston/followers",
        "following_url": "https://api.github.com/users/jbweston/following{/other_user}",
        "gists_url": "https://api.github.com/users/jbweston/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/jbweston",
        "id": 6654709,
        "login": "jbweston",
        "organizations_url": "https://api.github.com/users/jbweston/orgs",
        "received_events_url": "https://api.github.com/users/jbweston/received_events",
        "repos_url": "https://api.github.com/users/jbweston/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/jbweston/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jbweston/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/jbweston"
    }
}