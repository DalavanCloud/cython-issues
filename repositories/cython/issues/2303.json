{
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "Latest version of cython. My app works fine when i run it with python but when i make it into a module and import the module from a simple launcher script suddenly it doesn't seem to see any data from the internet and it also gives me these: RecursionError: maximum recursion depth exceeded while calling a Python object.\r\n\r\nNuitka has the same problem but doesn't give me these recursionerrors. It's a proprietary app and i don't want to give away the sourcecode but if you have any ideas they will be greatly appreciated.\r\n\r\nI have no idea if it's relevant but when compiling the program(making object code) with gcc i also get this error/warning/note(the only one):\r\n\r\n`prog.c: In function ‘__pyx_pf_4prog_13Ui_MainWindow_setupUi.isra.75’:\r\nprog.c:41229:18: note: variable tracking size limit exceeded with -fvar-tracking-assignments, retrying without\r\n static PyObject *__pyx_pf_4prog_13Ui_MainWindow_setupUi(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_MainWindow) {\r\n                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~`\r\n\r\nAlso not sure if relevant but i have a bunch of classes(threads) that calls the next class when one is finished making a loop. Maybe this is a nono even if it works fine in python?\r\n\r\nI'm using pyside2, requests, delorean and humanize.\r\n",
    "closed_at": "2018-06-07T00:12:33Z",
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "Any ideas?",
            "created_at": "2018-05-29T10:30:22Z",
            "html_url": "https://github.com/cython/cython/issues/2303#issuecomment-392729899",
            "id": 392729899,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2303",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM5MjcyOTg5OQ==",
            "updated_at": "2018-05-29T10:30:22Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/392729899",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/28787979?v=4",
                "events_url": "https://api.github.com/users/hippylover/events{/privacy}",
                "followers_url": "https://api.github.com/users/hippylover/followers",
                "following_url": "https://api.github.com/users/hippylover/following{/other_user}",
                "gists_url": "https://api.github.com/users/hippylover/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/hippylover",
                "id": 28787979,
                "login": "hippylover",
                "node_id": "MDQ6VXNlcjI4Nzg3OTc5",
                "organizations_url": "https://api.github.com/users/hippylover/orgs",
                "received_events_url": "https://api.github.com/users/hippylover/received_events",
                "repos_url": "https://api.github.com/users/hippylover/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/hippylover/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/hippylover/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/hippylover"
            }
        },
        {
            "author_association": "NONE",
            "body": "Managed to make a minimal example exhibiting the bugs:\r\n\r\n```\r\nfrom PySide2 import QtCore, QtGui, QtWidgets\r\nfrom PySide2.QtCore import Slot, Signal, QThread\r\nimport sys\r\nimport requests\r\nimport time\r\n\r\nclass Ui_MainWindow(object):\r\n    def setupUi(self, MainWindow):\r\n        MainWindow.setObjectName(\"MainWindow\")\r\n        MainWindow.resize(800, 600)\r\n        self.centralwidget = QtWidgets.QWidget(MainWindow)\r\n        self.centralwidget.setObjectName(\"centralwidget\")\r\n        self.pushButton = QtWidgets.QPushButton(self.centralwidget)\r\n        self.pushButton.setGeometry(QtCore.QRect(240, 100, 97, 34))\r\n        self.pushButton.setObjectName(\"pushButton\")\r\n        self.plainTextEdit = QtWidgets.QPlainTextEdit(self.centralwidget)\r\n        self.plainTextEdit.setGeometry(QtCore.QRect(200, 160, 451, 271))\r\n        self.plainTextEdit.setPlainText(\"\")\r\n        self.plainTextEdit.setObjectName(\"plainTextEdit\")\r\n        MainWindow.setCentralWidget(self.centralwidget)\r\n        self.menubar = QtWidgets.QMenuBar(MainWindow)\r\n        self.menubar.setGeometry(QtCore.QRect(0, 0, 800, 30))\r\n        self.menubar.setObjectName(\"menubar\")\r\n        MainWindow.setMenuBar(self.menubar)\r\n        self.statusbar = QtWidgets.QStatusBar(MainWindow)\r\n        self.statusbar.setObjectName(\"statusbar\")\r\n        MainWindow.setStatusBar(self.statusbar)\r\n\r\n        self.retranslateUi(MainWindow)\r\n        QtCore.QMetaObject.connectSlotsByName(MainWindow)\r\n\r\n    def retranslateUi(self, MainWindow):\r\n        _translate = QtCore.QCoreApplication.translate\r\n        MainWindow.setWindowTitle(_translate(\"MainWindow\", \"MainWindow\"))\r\n        self.pushButton.setText(_translate(\"MainWindow\", \"OK\"))\r\n\r\nclass MainUIClass(QtWidgets.QMainWindow, Ui_MainWindow):\r\n    def closeEvent(self, evnt):\r\n        print(\"CLOSED\")\r\n        self.thread1.quit()\r\n        self.thread2.quit()\r\n        self.thread3.quit()\r\n        self.thread1.wait()\r\n        self.thread2.wait()\r\n        self.thread3.wait()\r\n        print(\"thread1 is running?:\", self.thread1.isRunning())\r\n        print(\"thread2 is running?:\", self.thread2.isRunning())\r\n        print(\"thread3 is running?:\", self.thread3.isRunning())\r\n        sys.exit()\r\n        \r\n    def __init__(self, parent=None):\r\n        super().__init__()\r\n        self.setupUi(self)\r\n\r\n        self.thread1 = QThread()\r\n        self.thread2 = QThread()\r\n        self.thread3 = QThread()\r\n\r\n        self.Class1 = Class1()\r\n        self.Class2 = Class2()\r\n        self.Class3 = Class3()\r\n\r\n        self.Class1.moveToThread(self.thread1)\r\n        self.Class2.moveToThread(self.thread2)\r\n        self.Class3.moveToThread(self.thread3)\r\n\r\n        self.thread1.started.connect(lambda: self.Class1.startThread())\r\n\r\n        self.Class1.startThread2.connect(self.Class2.startThread)\r\n        self.Class2.startThread3.connect(self.Class3.startThread)\r\n        self.Class3.startThread1.connect(self.Class1.startThread)\r\n\r\n        self.thread1.start()\r\n        self.thread2.start()\r\n        self.thread3.start()\r\n\r\nclass Class1(QtCore.QObject):\r\n    startThread2 = Signal()\r\n\r\n    def __init__(self):\r\n        super().__init__()\r\n\r\n    @Slot()\r\n    def startThread(self):\r\n        time.sleep(1)\r\n        data = requests.get(\"https://www.google.com\")\r\n        print(\"thread1:\", data)\r\n        self.startThread2.emit()\r\n\r\nclass Class2(QtCore.QObject):\r\n    startThread3 = Signal()\r\n\r\n    def __init__(self):\r\n        super().__init__()\r\n\r\n    @Slot()\r\n    def startThread(self):\r\n        time.sleep(1)\r\n        data = requests.get(\"https://www.google.com\")\r\n        print(\"thread2:\", data)\r\n        self.startThread3.emit()\r\n\r\nclass Class3(QtCore.QObject):\r\n    startThread1 = Signal()\r\n\r\n    def __init__(self):\r\n        super().__init__()\r\n\r\n    @Slot()\r\n    def startThread(self):\r\n        time.sleep(1)\r\n        data = requests.get(\"https://www.google.com\")\r\n        print(\"thread3:\", data)\r\n        self.startThread1.emit()\r\n\r\na = QtWidgets.QApplication(sys.argv)\r\napp = MainUIClass()\r\n\r\na.setQuitOnLastWindowClosed(False)\r\napp.setWindowTitle(\"Pyside2 thread compiled test\")\r\napp.show()\r\n\r\nsys.exit(a.exec_())\r\n```\r\n\r\nThis code will work perfectly before you compile it with cython or nuitka. If you compile it with cython it will output:\r\n\r\n```\r\n('thread1:', <Response [200]>)\r\nRecursionError: maximum recursion depth exceeded while calling a Python object\r\n```\r\nand hang but it will show the window contents. With nuitka it will never show the contents of the window but the threads will run as expected. If anyone can explain why it happens and how i can fix it that would be great.",
            "created_at": "2018-05-29T19:03:51Z",
            "html_url": "https://github.com/cython/cython/issues/2303#issuecomment-392902133",
            "id": 392902133,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2303",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM5MjkwMjEzMw==",
            "updated_at": "2018-05-29T19:03:51Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/392902133",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/28787979?v=4",
                "events_url": "https://api.github.com/users/hippylover/events{/privacy}",
                "followers_url": "https://api.github.com/users/hippylover/followers",
                "following_url": "https://api.github.com/users/hippylover/following{/other_user}",
                "gists_url": "https://api.github.com/users/hippylover/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/hippylover",
                "id": 28787979,
                "login": "hippylover",
                "node_id": "MDQ6VXNlcjI4Nzg3OTc5",
                "organizations_url": "https://api.github.com/users/hippylover/orgs",
                "received_events_url": "https://api.github.com/users/hippylover/received_events",
                "repos_url": "https://api.github.com/users/hippylover/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/hippylover/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/hippylover/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/hippylover"
            }
        },
        {
            "author_association": "NONE",
            "body": "Just tried it with pyqt5 now. It works perfectly. Perhaps this is a pyside2 bug. If you have the chance and will to help those guys out(it's opensource too!) then i suppose we can put this behind us.\r\n\r\nedit: Posted bug here: https://bugreports.qt.io/browse/PYSIDE-674",
            "created_at": "2018-05-29T22:30:21Z",
            "html_url": "https://github.com/cython/cython/issues/2303#issuecomment-392968850",
            "id": 392968850,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2303",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM5Mjk2ODg1MA==",
            "updated_at": "2018-05-29T23:08:17Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/392968850",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/28787979?v=4",
                "events_url": "https://api.github.com/users/hippylover/events{/privacy}",
                "followers_url": "https://api.github.com/users/hippylover/followers",
                "following_url": "https://api.github.com/users/hippylover/following{/other_user}",
                "gists_url": "https://api.github.com/users/hippylover/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/hippylover",
                "id": 28787979,
                "login": "hippylover",
                "node_id": "MDQ6VXNlcjI4Nzg3OTc5",
                "organizations_url": "https://api.github.com/users/hippylover/orgs",
                "received_events_url": "https://api.github.com/users/hippylover/received_events",
                "repos_url": "https://api.github.com/users/hippylover/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/hippylover/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/hippylover/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/hippylover"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "My guess is that you were already very close to the recursion limit, and minor implementation detail differences put you over (or not). You can play with [getrecursionlimit](https://docs.python.org/3/library/sys.html#sys.getrecursionlimit) to test/work around this. ",
            "created_at": "2018-06-07T00:12:33Z",
            "html_url": "https://github.com/cython/cython/issues/2303#issuecomment-395252584",
            "id": 395252584,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2303",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTI1MjU4NA==",
            "updated_at": "2018-06-07T00:12:33Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/395252584",
            "user": {
                "avatar_url": "https://avatars3.githubusercontent.com/u/486017?v=4",
                "events_url": "https://api.github.com/users/robertwb/events{/privacy}",
                "followers_url": "https://api.github.com/users/robertwb/followers",
                "following_url": "https://api.github.com/users/robertwb/following{/other_user}",
                "gists_url": "https://api.github.com/users/robertwb/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/robertwb",
                "id": 486017,
                "login": "robertwb",
                "node_id": "MDQ6VXNlcjQ4NjAxNw==",
                "organizations_url": "https://api.github.com/users/robertwb/orgs",
                "received_events_url": "https://api.github.com/users/robertwb/received_events",
                "repos_url": "https://api.github.com/users/robertwb/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/robertwb/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/robertwb/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/robertwb"
            }
        },
        {
            "author_association": "NONE",
            "body": "That is not the problem. This is either a bug in pyside2 or cython depending on how you look at it. I and others have tested the exact same code in both pyside2 and pyqt5 and only pyside2 exhibits the bug.\r\n\r\nFurthermore playing with setrecursionlimit doesn't aid the problem in any way.",
            "created_at": "2018-06-07T20:01:25Z",
            "html_url": "https://github.com/cython/cython/issues/2303#issuecomment-395546541",
            "id": 395546541,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2303",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTU0NjU0MQ==",
            "updated_at": "2018-06-07T20:02:53Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/395546541",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/28787979?v=4",
                "events_url": "https://api.github.com/users/hippylover/events{/privacy}",
                "followers_url": "https://api.github.com/users/hippylover/followers",
                "following_url": "https://api.github.com/users/hippylover/following{/other_user}",
                "gists_url": "https://api.github.com/users/hippylover/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/hippylover",
                "id": 28787979,
                "login": "hippylover",
                "node_id": "MDQ6VXNlcjI4Nzg3OTc5",
                "organizations_url": "https://api.github.com/users/hippylover/orgs",
                "received_events_url": "https://api.github.com/users/hippylover/received_events",
                "repos_url": "https://api.github.com/users/hippylover/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/hippylover/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/hippylover/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/hippylover"
            }
        }
    ],
    "comments": 5,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/2303/comments",
    "created_at": "2018-05-28T21:52:24Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/28787979?v=4",
                "events_url": "https://api.github.com/users/hippylover/events{/privacy}",
                "followers_url": "https://api.github.com/users/hippylover/followers",
                "following_url": "https://api.github.com/users/hippylover/following{/other_user}",
                "gists_url": "https://api.github.com/users/hippylover/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/hippylover",
                "id": 28787979,
                "login": "hippylover",
                "node_id": "MDQ6VXNlcjI4Nzg3OTc5",
                "organizations_url": "https://api.github.com/users/hippylover/orgs",
                "received_events_url": "https://api.github.com/users/hippylover/received_events",
                "repos_url": "https://api.github.com/users/hippylover/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/hippylover/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/hippylover/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/hippylover"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2018-05-29T10:29:54Z",
            "event": "renamed",
            "id": 1650740378,
            "node_id": "MDE3OlJlbmFtZWRUaXRsZUV2ZW50MTY1MDc0MDM3OA==",
            "rename": {
                "from": "My app doesnt see any data from the internet when i compile it and i also get RecursionError: maximum recursion depth exceeded while calling a Python object",
                "to": "My app doesnt seem to seew any data from the internet when i compile it and i also get RecursionError: maximum recursion depth exceeded while calling a Python object"
            },
            "url": "https://api.github.com/repos/cython/cython/issues/events/1650740378"
        },
        {
            "actor": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/28787979?v=4",
                "events_url": "https://api.github.com/users/hippylover/events{/privacy}",
                "followers_url": "https://api.github.com/users/hippylover/followers",
                "following_url": "https://api.github.com/users/hippylover/following{/other_user}",
                "gists_url": "https://api.github.com/users/hippylover/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/hippylover",
                "id": 28787979,
                "login": "hippylover",
                "node_id": "MDQ6VXNlcjI4Nzg3OTc5",
                "organizations_url": "https://api.github.com/users/hippylover/orgs",
                "received_events_url": "https://api.github.com/users/hippylover/received_events",
                "repos_url": "https://api.github.com/users/hippylover/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/hippylover/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/hippylover/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/hippylover"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2018-05-29T19:37:47Z",
            "event": "renamed",
            "id": 1651968322,
            "node_id": "MDE3OlJlbmFtZWRUaXRsZUV2ZW50MTY1MTk2ODMyMg==",
            "rename": {
                "from": "My app doesnt seem to seew any data from the internet when i compile it and i also get RecursionError: maximum recursion depth exceeded while calling a Python object",
                "to": "app works perfectly with just python but when one compiles it with cython it doesn't work and gives recursionerrors."
            },
            "url": "https://api.github.com/repos/cython/cython/issues/events/1651968322"
        },
        {
            "actor": {
                "avatar_url": "https://avatars3.githubusercontent.com/u/486017?v=4",
                "events_url": "https://api.github.com/users/robertwb/events{/privacy}",
                "followers_url": "https://api.github.com/users/robertwb/followers",
                "following_url": "https://api.github.com/users/robertwb/following{/other_user}",
                "gists_url": "https://api.github.com/users/robertwb/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/robertwb",
                "id": 486017,
                "login": "robertwb",
                "node_id": "MDQ6VXNlcjQ4NjAxNw==",
                "organizations_url": "https://api.github.com/users/robertwb/orgs",
                "received_events_url": "https://api.github.com/users/robertwb/received_events",
                "repos_url": "https://api.github.com/users/robertwb/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/robertwb/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/robertwb/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/robertwb"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2018-06-07T00:12:33Z",
            "event": "closed",
            "id": 1667393503,
            "node_id": "MDExOkNsb3NlZEV2ZW50MTY2NzM5MzUwMw==",
            "url": "https://api.github.com/repos/cython/cython/issues/events/1667393503"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/2303/events",
    "html_url": "https://github.com/cython/cython/issues/2303",
    "id": 327123153,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/2303/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWUzMjcxMjMxNTM=",
    "number": 2303,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "closed",
    "title": "app works perfectly with just python but when one compiles it with cython it doesn't work and gives recursionerrors.",
    "updated_at": "2018-06-07T20:02:53Z",
    "url": "https://api.github.com/repos/cython/cython/issues/2303",
    "user": {
        "avatar_url": "https://avatars0.githubusercontent.com/u/28787979?v=4",
        "events_url": "https://api.github.com/users/hippylover/events{/privacy}",
        "followers_url": "https://api.github.com/users/hippylover/followers",
        "following_url": "https://api.github.com/users/hippylover/following{/other_user}",
        "gists_url": "https://api.github.com/users/hippylover/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/hippylover",
        "id": 28787979,
        "login": "hippylover",
        "node_id": "MDQ6VXNlcjI4Nzg3OTc5",
        "organizations_url": "https://api.github.com/users/hippylover/orgs",
        "received_events_url": "https://api.github.com/users/hippylover/received_events",
        "repos_url": "https://api.github.com/users/hippylover/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/hippylover/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/hippylover/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/hippylover"
    }
}