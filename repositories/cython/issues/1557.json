{
    "assignee": null,
    "assignees": [],
    "body": "Here is something looking like a bug with prange and else/elif statement . In my example I use else, but with elif the result is exactly the same.\r\n\r\nIf I try  : \r\n\r\n```\r\n%%cython --compile-args=-fopenmp --link-args=-fopenmp\r\nfrom cython.parallel import prange\r\nfrom cython cimport boundscheck\r\n@boundscheck(False)\r\ncdef double test() nogil :\r\n    cdef :\r\n        int i\r\n        int total = 0\r\n    for i in prange(2500, schedule = \"static\", chunksize = 500) :\r\n        if i % 2 == 0 :\r\n            total +=  i\r\n        else :\r\n            total += -i\r\n    return total\r\nprint(test())\r\n```\r\n\r\nThen I get : \r\n\r\n```\r\nError compiling Cython file:\r\n------------------------------------------------------------\r\n...\r\n        int total = 0\r\n    for i in prange(2500, schedule = \"static\", chunksize = 500) :\r\n        if i % 2 == 0 :\r\n            total +=i\r\n        else :\r\n            total += -i\r\n                 ^\r\n------------------------------------------------------------\r\n\r\n/home/jb/.cache/ipython/cython/_cython_magic_b0ad39b2ef3ed1d1b3ce07a96a5b241c.pyx:12:18: local variable 'total' referenced before assignment\r\n```\r\nNote if I only use \"if\" statements, it is ok.\r\n\r\nBest regards\r\n",
    "closed_at": null,
    "comment_data": [],
    "comments": 0,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/1557/comments",
    "created_at": "2016-12-17T10:12:30Z",
    "event_data": [],
    "events_url": "https://api.github.com/repos/cython/cython/issues/1557/events",
    "html_url": "https://github.com/cython/cython/issues/1557",
    "id": 196214454,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/1557/labels{/name}",
    "locked": false,
    "milestone": null,
    "number": 1557,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "title": "Variable assignment error in else/elif blocks with prange",
    "updated_at": "2016-12-18T09:52:21Z",
    "url": "https://api.github.com/repos/cython/cython/issues/1557",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/17411352?v=3",
        "events_url": "https://api.github.com/users/JbFoncin/events{/privacy}",
        "followers_url": "https://api.github.com/users/JbFoncin/followers",
        "following_url": "https://api.github.com/users/JbFoncin/following{/other_user}",
        "gists_url": "https://api.github.com/users/JbFoncin/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/JbFoncin",
        "id": 17411352,
        "login": "JbFoncin",
        "organizations_url": "https://api.github.com/users/JbFoncin/orgs",
        "received_events_url": "https://api.github.com/users/JbFoncin/received_events",
        "repos_url": "https://api.github.com/users/JbFoncin/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/JbFoncin/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/JbFoncin/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/JbFoncin"
    }
}