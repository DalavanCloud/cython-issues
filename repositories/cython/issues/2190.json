{
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "\r\nAs per the Cython [basic tutorial](https://cython.readthedocs.io/en/latest/src/tutorial/cython_tutorial.html):\r\n\r\n> \"Since Cython 0.11, the Pyximport module also has experimental compilation support for normal Python modules. This allows you to automatically run Cython on every .pyx and .py module that Python imports, including the standard library and installed packages. Cython will still fail to compile a lot of Python modules, in which case the import mechanism will fall back to loading the Python source modules instead.\"\r\n\r\n\r\nHowever, this does not appear to work when trying to build a program from within PyPy which imports requests.\r\n\r\nThe requests build fails, raising an ImportError, and it does not fall back to loading the Python module:\r\n\r\n```\r\n\r\n  File \"foo/bar.py\", line 16, in init foo.bar\r\n    import requests\r\n  File \"/home/user/my-pypy-env/site-packages/pyximport/pyximport.py\", line 419, in load_module\r\n    return load_module(fullname, source_path, so_path=so_path, is_package=is_package)\r\n  File \"/home/user/my-pypy-env/site-packages/pyximport/pyximport.py\", line 231, in load_module\r\n    raise exc.with_traceback(tb)\r\n  File \"/home/user/my-pypy-env/site-packages/pyximport/pyximport.py\", line 216, in load_module\r\n    mod = imp.load_dynamic(name, so_path)\r\n  File \"/home/user/my-pypy-env/lib-python/3/imp.py\", line 342, in load_dynamic\r\n    return _load(spec)\r\n  File \"<frozen importlib._bootstrap>\", line 694, in _load\r\n  File \"<frozen importlib._bootstrap>\", line 667, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 578, in module_from_spec\r\n  File \"<builtin>/frozen importlib._bootstrap_external\", line 927, in create_module\r\n  File \"<frozen importlib._bootstrap>\", line 223, in _call_with_frames_removed\r\n  File \"__init__.py\", line 43, in init requests.__init__\r\n  File \"/home/user/my-pypy-env/site-packages/pyximport/pyximport.py\", line 419, in load_module\r\n    return load_module(fullname, source_path, so_path=so_path, is_package=is_package)\r\n  File \"/home/user/my-pypy-env/site-packages/pyximport/pyximport.py\", line 231, in load_module\r\n    raise exc.with_traceback(tb)\r\n  File \"/home/user/my-pypy-env/site-packages/pyximport/pyximport.py\", line 216, in load_module\r\n    mod = imp.load_dynamic(name, so_path)\r\n  File \"/home/user/my-pypy-env/lib-python/3/imp.py\", line 342, in load_dynamic\r\n    return _load(spec)\r\n  File \"<frozen importlib._bootstrap>\", line 694, in _load\r\n  File \"<frozen importlib._bootstrap>\", line 667, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 578, in module_from_spec\r\n  File \"<builtin>/frozen importlib._bootstrap_external\", line 927, in create_module\r\n  File \"<frozen importlib._bootstrap>\", line 223, in _call_with_frames_removed\r\n  File \"__init__.py\", line 8, in init urllib3.__init__\r\nImportError: Building module foo.bar failed: ['ImportError: Building module requests failed: [\\'ImportError: Building mod\r\nule urllib3 failed: [\"ImportError: No module named \\\\\\'urllib3.connectionpool\\\\\\'\\\\\\\\n\"]\\\\n\\']\\n']\r\n```\r\n\r\n",
    "closed_at": "2018-03-30T06:54:10Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Seriously, there is no reason to use this feature in PyPy. It would just hugely slow down everything, even if it worked.",
            "created_at": "2018-03-30T06:54:09Z",
            "html_url": "https://github.com/cython/cython/issues/2190#issuecomment-377460483",
            "id": 377460483,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2190",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzQ2MDQ4Mw==",
            "updated_at": "2018-03-30T06:54:09Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/377460483",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        }
    ],
    "comments": 1,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/2190/comments",
    "created_at": "2018-03-30T04:11:27Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2018-03-30T06:54:10Z",
            "event": "closed",
            "id": 1549305129,
            "node_id": "MDExOkNsb3NlZEV2ZW50MTU0OTMwNTEyOQ==",
            "url": "https://api.github.com/repos/cython/cython/issues/events/1549305129"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/2190/events",
    "html_url": "https://github.com/cython/cython/issues/2190",
    "id": 309970713,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/2190/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWUzMDk5NzA3MTM=",
    "number": 2190,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "closed",
    "title": "pyximport.install(pyimport=True) fails importing requests/urllib3 [PyPy]",
    "updated_at": "2018-03-30T06:54:10Z",
    "url": "https://api.github.com/repos/cython/cython/issues/2190",
    "user": {
        "avatar_url": "https://avatars1.githubusercontent.com/u/37921425?v=4",
        "events_url": "https://api.github.com/users/WallGeckoPoint/events{/privacy}",
        "followers_url": "https://api.github.com/users/WallGeckoPoint/followers",
        "following_url": "https://api.github.com/users/WallGeckoPoint/following{/other_user}",
        "gists_url": "https://api.github.com/users/WallGeckoPoint/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/WallGeckoPoint",
        "id": 37921425,
        "login": "WallGeckoPoint",
        "node_id": "MDQ6VXNlcjM3OTIxNDI1",
        "organizations_url": "https://api.github.com/users/WallGeckoPoint/orgs",
        "received_events_url": "https://api.github.com/users/WallGeckoPoint/received_events",
        "repos_url": "https://api.github.com/users/WallGeckoPoint/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/WallGeckoPoint/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/WallGeckoPoint/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/WallGeckoPoint"
    }
}