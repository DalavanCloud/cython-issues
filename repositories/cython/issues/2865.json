{
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "I'm trying to compile the hello world example from the [basic tutorial](https://cython.readthedocs.io/en/latest/src/tutorial/cython_tutorial.html) using the versions of cython (installad inside an anaconda venv) and gcc (system install, on Arch Linux) mentioned in the title. Starting the interpreter and running `shutil.which('gcc')` gives me `/usr/bin/gcc` as expected. Yet, when running `python setup.py build_ext --inplace` I receive the following error:\r\n\r\n```running build_ext\r\nbuilding 'helloworld' extension\r\ngcc -pthread -B /home/timo/anaconda3/compiler_compat -Wl,--sysroot=/ -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -I/home/timo/anaconda3/include/python3.6m -c helloworld.c -o build/temp.linux-x86_64-3.6/helloworld.o\r\ngcc -pthread -shared -B /home/timo/anaconda3/compiler_compat -L/home/timo/anaconda3/lib -Wl,-rpath=/home/timo/anaconda3/lib -Wl,--no-as-needed -Wl,--sysroot=/ build/temp.linux-x86_64-3.6/helloworld.o -o /home/timo/.../helloworld.cpython-36m-x86_64-linux-gnu.so\r\n/home/timo/anaconda3/compiler_compat/ld: build/temp.linux-x86_64-3.6/helloworld.o: unable to initialize decompress status for section .debug_info\r\n/home/timo/anaconda3/compiler_compat/ld: build/temp.linux-x86_64-3.6/helloworld.o: unable to initialize decompress status for section .debug_info\r\n/home/timo/anaconda3/compiler_compat/ld: build/temp.linux-x86_64-3.6/helloworld.o: unable to initialize decompress status for section .debug_info\r\n/home/timo/anaconda3/compiler_compat/ld: build/temp.linux-x86_64-3.6/helloworld.o: unable to initialize decompress status for section .debug_info\r\nbuild/temp.linux-x86_64-3.6/helloworld.o: file not recognized: file format not recognized\r\ncollect2: error: ld returned 1 exit status\r\nerror: command 'gcc' failed with exit status 1\r\n```\r\n\r\nThis looks similar to the following [bug report](https://bugs.archlinux.org/task/61151) which has supposedly been fixed. What's happening here? Can someone reproduce this?\r\n\r\nI have binutils 2.31.1-4, libelf/elfutils 0.175-1 installed if that helps",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "Okay, after further research this seems to be a problem with `libelf 0.175-1` which pops up in other situations as well. One workaround I have found is to exclude debug symbols during compilation. Cython does not seem to provide a straightfoward way to do this (which is a very weird design choice if true) but this seems to work (caveat is that binary ends up in the cwd):\r\n\r\n```python\r\nfrom distutils.core import setup\r\nfrom distutils.extension import Extension\r\nfrom Cython.Distutils import build_ext\r\n\r\nsetup(\r\n    ext_modules = [\r\n        Extension('helloworld',\r\n                  sources=['helloworld.pyx'],\r\n                  extra_compile_args=['-g0'])\r\n    ],\r\n    cmdclass = {'build_ext': build_ext}\r\n)\r\n```\r\n\r\nSo if anyone else has this problem that's what I would suggest other then downgrading `libelf` or waiting for a fix.",
            "created_at": "2019-02-25T10:10:32Z",
            "html_url": "https://github.com/cython/cython/issues/2865#issuecomment-466953158",
            "id": 466953158,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2865",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ2Njk1MzE1OA==",
            "updated_at": "2019-02-25T10:11:08Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/466953158",
            "user": {
                "avatar_url": "https://avatars2.githubusercontent.com/u/16510307?v=4",
                "events_url": "https://api.github.com/users/Time0o/events{/privacy}",
                "followers_url": "https://api.github.com/users/Time0o/followers",
                "following_url": "https://api.github.com/users/Time0o/following{/other_user}",
                "gists_url": "https://api.github.com/users/Time0o/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Time0o",
                "id": 16510307,
                "login": "Time0o",
                "node_id": "MDQ6VXNlcjE2NTEwMzA3",
                "organizations_url": "https://api.github.com/users/Time0o/orgs",
                "received_events_url": "https://api.github.com/users/Time0o/received_events",
                "repos_url": "https://api.github.com/users/Time0o/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Time0o/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Time0o/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Time0o"
            }
        }
    ],
    "comments": 1,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/2865/comments",
    "created_at": "2019-02-25T09:16:37Z",
    "event_data": [],
    "events_url": "https://api.github.com/repos/cython/cython/issues/2865/events",
    "html_url": "https://github.com/cython/cython/issues/2865",
    "id": 414004030,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/2865/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWU0MTQwMDQwMzA=",
    "number": 2865,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "title": "Cython 0.29.5 + gcc 8.2.1 broken completely",
    "updated_at": "2019-02-25T10:11:08Z",
    "url": "https://api.github.com/repos/cython/cython/issues/2865",
    "user": {
        "avatar_url": "https://avatars2.githubusercontent.com/u/16510307?v=4",
        "events_url": "https://api.github.com/users/Time0o/events{/privacy}",
        "followers_url": "https://api.github.com/users/Time0o/followers",
        "following_url": "https://api.github.com/users/Time0o/following{/other_user}",
        "gists_url": "https://api.github.com/users/Time0o/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/Time0o",
        "id": 16510307,
        "login": "Time0o",
        "node_id": "MDQ6VXNlcjE2NTEwMzA3",
        "organizations_url": "https://api.github.com/users/Time0o/orgs",
        "received_events_url": "https://api.github.com/users/Time0o/received_events",
        "repos_url": "https://api.github.com/users/Time0o/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/Time0o/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Time0o/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/Time0o"
    }
}