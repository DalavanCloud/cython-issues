{
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "I would like to create a `bint` memoryview of a `numpy.ndarray` with `dtype=np.bool.` Example:\r\n\r\n```\r\ncimport cython\r\ncimport numpy as np\r\nimport numpy as np\r\n\r\ncdef np.ndarray array = np.array([True, True, False, True], dtype=np.bool)\r\ncdef bint[:] array_view = array\r\n```\r\n\r\nUnfortunately, running this code raises the following error:\r\n\r\n`ValueError: Does not understand character buffer dtype format string ('?')`\r\n",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "I've had a similar problem.  Here's my solution based on:\r\nhttps://stackoverflow.com/questions/18058744/passing-a-numpy-pointer-dtype-np-bool-to-c\r\n\r\n```cython\r\nimport numpy as np\r\ncimport numpy as np\r\nfrom numpy cimport ndarray\r\nctypedef unsigned char uint8\r\n\r\ndef booltest(ndarray[np.uint8_t, cast=True] arr):\r\n    \"\"\" Sum a numpy np.bool array within cython \"\"\"\r\n    cdef int i\r\n    cdef int sizearr = arr.size\r\n    cdef int arr_sum = 0\r\n\r\n    for i in range(sizearr):\r\n        arr_sum += arr[i]\r\n\r\n    return arr_sum\r\n\r\n```",
            "created_at": "2018-07-12T20:30:57Z",
            "html_url": "https://github.com/cython/cython/issues/2204#issuecomment-404640859",
            "id": 404640859,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2204",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDY0MDg1OQ==",
            "updated_at": "2018-07-12T20:30:57Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/404640859",
            "user": {
                "avatar_url": "https://avatars3.githubusercontent.com/u/11981631?v=4",
                "events_url": "https://api.github.com/users/akaszynski/events{/privacy}",
                "followers_url": "https://api.github.com/users/akaszynski/followers",
                "following_url": "https://api.github.com/users/akaszynski/following{/other_user}",
                "gists_url": "https://api.github.com/users/akaszynski/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/akaszynski",
                "id": 11981631,
                "login": "akaszynski",
                "node_id": "MDQ6VXNlcjExOTgxNjMx",
                "organizations_url": "https://api.github.com/users/akaszynski/orgs",
                "received_events_url": "https://api.github.com/users/akaszynski/received_events",
                "repos_url": "https://api.github.com/users/akaszynski/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/akaszynski/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/akaszynski/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/akaszynski"
            }
        },
        {
            "author_association": "NONE",
            "body": "Thank you. I use a quite similar solution at the moment, but I think it would be convenient to have the type directly supported.",
            "created_at": "2018-07-17T18:10:55Z",
            "html_url": "https://github.com/cython/cython/issues/2204#issuecomment-405675438",
            "id": 405675438,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2204",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQwNTY3NTQzOA==",
            "updated_at": "2018-07-17T18:10:55Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/405675438",
            "user": {
                "avatar_url": "https://avatars2.githubusercontent.com/u/28051833?v=4",
                "events_url": "https://api.github.com/users/padix-key/events{/privacy}",
                "followers_url": "https://api.github.com/users/padix-key/followers",
                "following_url": "https://api.github.com/users/padix-key/following{/other_user}",
                "gists_url": "https://api.github.com/users/padix-key/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/padix-key",
                "id": 28051833,
                "login": "padix-key",
                "node_id": "MDQ6VXNlcjI4MDUxODMz",
                "organizations_url": "https://api.github.com/users/padix-key/orgs",
                "received_events_url": "https://api.github.com/users/padix-key/received_events",
                "repos_url": "https://api.github.com/users/padix-key/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/padix-key/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/padix-key/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/padix-key"
            }
        },
        {
            "author_association": "NONE",
            "body": "is there any progress towards this issue?\r\n``ndarray[np.uint8_t, cast=True]`` does not allow to define your function as being ``nogil``, which is quite a bummer...",
            "created_at": "2018-10-24T15:13:29Z",
            "html_url": "https://github.com/cython/cython/issues/2204#issuecomment-432700670",
            "id": 432700670,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2204",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQzMjcwMDY3MA==",
            "updated_at": "2018-10-24T15:13:29Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/432700670",
            "user": {
                "avatar_url": "https://avatars3.githubusercontent.com/u/11853089?v=4",
                "events_url": "https://api.github.com/users/0phoff/events{/privacy}",
                "followers_url": "https://api.github.com/users/0phoff/followers",
                "following_url": "https://api.github.com/users/0phoff/following{/other_user}",
                "gists_url": "https://api.github.com/users/0phoff/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/0phoff",
                "id": 11853089,
                "login": "0phoff",
                "node_id": "MDQ6VXNlcjExODUzMDg5",
                "organizations_url": "https://api.github.com/users/0phoff/orgs",
                "received_events_url": "https://api.github.com/users/0phoff/received_events",
                "repos_url": "https://api.github.com/users/0phoff/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/0phoff/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/0phoff/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/0phoff"
            }
        }
    ],
    "comments": 3,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/2204/comments",
    "created_at": "2018-04-18T08:49:40Z",
    "event_data": [],
    "events_url": "https://api.github.com/repos/cython/cython/issues/2204/events",
    "html_url": "https://github.com/cython/cython/issues/2204",
    "id": 315387036,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/2204/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWUzMTUzODcwMzY=",
    "number": 2204,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "title": "Memoryview of boolean ndarrays",
    "updated_at": "2018-10-24T15:13:29Z",
    "url": "https://api.github.com/repos/cython/cython/issues/2204",
    "user": {
        "avatar_url": "https://avatars2.githubusercontent.com/u/28051833?v=4",
        "events_url": "https://api.github.com/users/padix-key/events{/privacy}",
        "followers_url": "https://api.github.com/users/padix-key/followers",
        "following_url": "https://api.github.com/users/padix-key/following{/other_user}",
        "gists_url": "https://api.github.com/users/padix-key/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/padix-key",
        "id": 28051833,
        "login": "padix-key",
        "node_id": "MDQ6VXNlcjI4MDUxODMz",
        "organizations_url": "https://api.github.com/users/padix-key/orgs",
        "received_events_url": "https://api.github.com/users/padix-key/received_events",
        "repos_url": "https://api.github.com/users/padix-key/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/padix-key/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/padix-key/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/padix-key"
    }
}