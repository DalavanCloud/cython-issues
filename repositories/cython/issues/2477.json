{
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "With any Cython 0.28.x I get an error when trying to install the generated cpp from Python 3.7 (but not 3.6). This issue was fixed for Python 3.7 late in 0.27.x versions but seems to have been reintroduced:\r\n\r\n```\r\n# Activate python 3.6\r\n. ~/py36venv/bin/activate\r\npip install -U cython==0.28.3\r\ngit clone https://github.com/MSeal/cython_hunspell\r\ncd cython_hunspell\r\npython setup.py build_ext\r\n# Activate python 3.7\r\n. ~/py37env/bin/activate\r\npython setup.py install\r\n```\r\nAnd see the error below:\r\n```\r\nhunspell/hunspell.cpp:9504:22: error: ‘PyThreadState {aka struct _ts}’ has no member named ‘exc_state’; did you mean ‘exc_type’?\r\n     tmp_tb = tstate->exc_state.exc_traceback;\r\n```\r\nChanging to build to cython==0.27 results in a successful install\r\n",
    "closed_at": "2018-07-08T06:35:33Z",
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "This appears to be a difference between A2 and A3. 3.7a2 does not expect exc_state while 3.7a3 does. See https://github.com/python/cpython/compare/v3.7.0a2...v3.7.0a3 . Ubuntu 17.10 is installing 3.7a2 from it's default repositories so I hit this issue.",
            "created_at": "2018-07-08T00:35:57Z",
            "html_url": "https://github.com/cython/cython/issues/2477#issuecomment-403252456",
            "id": 403252456,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2477",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzI1MjQ1Ng==",
            "updated_at": "2018-07-08T00:35:57Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/403252456",
            "user": {
                "avatar_url": "https://avatars1.githubusercontent.com/u/1863892?v=4",
                "events_url": "https://api.github.com/users/MSeal/events{/privacy}",
                "followers_url": "https://api.github.com/users/MSeal/followers",
                "following_url": "https://api.github.com/users/MSeal/following{/other_user}",
                "gists_url": "https://api.github.com/users/MSeal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MSeal",
                "id": 1863892,
                "login": "MSeal",
                "node_id": "MDQ6VXNlcjE4NjM4OTI=",
                "organizations_url": "https://api.github.com/users/MSeal/orgs",
                "received_events_url": "https://api.github.com/users/MSeal/received_events",
                "repos_url": "https://api.github.com/users/MSeal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MSeal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MSeal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MSeal"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I wouldn't really call it a regression, given that we're dealing with alpha releases of CPython here. But thanks for your investigations. Here's a fix: 9e74fb6c3910200c24cbfc56c59f5f6eb1ad5e57",
            "created_at": "2018-07-08T06:35:33Z",
            "html_url": "https://github.com/cython/cython/issues/2477#issuecomment-403266139",
            "id": 403266139,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2477",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzI2NjEzOQ==",
            "updated_at": "2018-07-08T06:35:33Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/403266139",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "author_association": "NONE",
            "body": "Yea I originally had it compiling with 0.27.3 so thought it had been working before, but that wasn't handling exceptions in the code path at all once I tested it more today, so it really wasn't a regression in any way. Thanks for the quick fix.",
            "created_at": "2018-07-08T07:44:53Z",
            "html_url": "https://github.com/cython/cython/issues/2477#issuecomment-403269462",
            "id": 403269462,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2477",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzI2OTQ2Mg==",
            "updated_at": "2018-07-08T07:44:53Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/403269462",
            "user": {
                "avatar_url": "https://avatars1.githubusercontent.com/u/1863892?v=4",
                "events_url": "https://api.github.com/users/MSeal/events{/privacy}",
                "followers_url": "https://api.github.com/users/MSeal/followers",
                "following_url": "https://api.github.com/users/MSeal/following{/other_user}",
                "gists_url": "https://api.github.com/users/MSeal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MSeal",
                "id": 1863892,
                "login": "MSeal",
                "node_id": "MDQ6VXNlcjE4NjM4OTI=",
                "organizations_url": "https://api.github.com/users/MSeal/orgs",
                "received_events_url": "https://api.github.com/users/MSeal/received_events",
                "repos_url": "https://api.github.com/users/MSeal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MSeal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MSeal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MSeal"
            }
        }
    ],
    "comments": 3,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/2477/comments",
    "created_at": "2018-07-07T21:22:15Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2018-07-08T06:33:21Z",
            "event": "milestoned",
            "id": 1721728791,
            "milestone": {
                "title": "0.28.4"
            },
            "node_id": "MDE1Ok1pbGVzdG9uZWRFdmVudDE3MjE3Mjg3OTE=",
            "url": "https://api.github.com/repos/cython/cython/issues/events/1721728791"
        },
        {
            "actor": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2018-07-08T06:35:33Z",
            "event": "closed",
            "id": 1721729256,
            "node_id": "MDExOkNsb3NlZEV2ZW50MTcyMTcyOTI1Ng==",
            "url": "https://api.github.com/repos/cython/cython/issues/events/1721729256"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/2477/events",
    "html_url": "https://github.com/cython/cython/issues/2477",
    "id": 339175788,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/2477/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 3,
        "created_at": "2018-06-03T20:11:54Z",
        "creator": {
            "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
            "events_url": "https://api.github.com/users/scoder/events{/privacy}",
            "followers_url": "https://api.github.com/users/scoder/followers",
            "following_url": "https://api.github.com/users/scoder/following{/other_user}",
            "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/scoder",
            "id": 491659,
            "login": "scoder",
            "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
            "organizations_url": "https://api.github.com/users/scoder/orgs",
            "received_events_url": "https://api.github.com/users/scoder/received_events",
            "repos_url": "https://api.github.com/users/scoder/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/scoder"
        },
        "description": null,
        "due_on": null,
        "html_url": "https://github.com/cython/cython/milestone/55",
        "id": 3396640,
        "labels_url": "https://api.github.com/repos/cython/cython/milestones/55/labels",
        "node_id": "MDk6TWlsZXN0b25lMzM5NjY0MA==",
        "number": 55,
        "open_issues": 0,
        "state": "open",
        "title": "0.28.4",
        "updated_at": "2018-07-08T06:35:33Z",
        "url": "https://api.github.com/repos/cython/cython/milestones/55"
    },
    "node_id": "MDU6SXNzdWUzMzkxNzU3ODg=",
    "number": 2477,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "closed",
    "title": "Cython 0.28 Python 3.7 Traceback Regression",
    "updated_at": "2018-07-08T07:44:53Z",
    "url": "https://api.github.com/repos/cython/cython/issues/2477",
    "user": {
        "avatar_url": "https://avatars1.githubusercontent.com/u/1863892?v=4",
        "events_url": "https://api.github.com/users/MSeal/events{/privacy}",
        "followers_url": "https://api.github.com/users/MSeal/followers",
        "following_url": "https://api.github.com/users/MSeal/following{/other_user}",
        "gists_url": "https://api.github.com/users/MSeal/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/MSeal",
        "id": 1863892,
        "login": "MSeal",
        "node_id": "MDQ6VXNlcjE4NjM4OTI=",
        "organizations_url": "https://api.github.com/users/MSeal/orgs",
        "received_events_url": "https://api.github.com/users/MSeal/received_events",
        "repos_url": "https://api.github.com/users/MSeal/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/MSeal/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/MSeal/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/MSeal"
    }
}