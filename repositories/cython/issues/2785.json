{
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "In Nixpkgs we run the test suite after building and installing. It failed with:\r\n```\r\n======================================================================\r\nFAIL: test_embed (__main__.EmbedTest)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"runtests.py\", line 1803, in test_embed\r\n    \"make PYTHON='%s' CYTHON='%s' LIBDIR1='%s' test > make.output\" % (sys.executable, cython, libdir)))\r\nAssertionError: 0 != 512\r\n```",
    "closed_at": "2019-01-05T17:02:22Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Could you look for the actual test failure output further up? Search for `test_embed` in the logs.",
            "created_at": "2019-01-05T13:23:23Z",
            "html_url": "https://github.com/cython/cython/issues/2785#issuecomment-451654991",
            "id": 451654991,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2785",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MTY1NDk5MQ==",
            "updated_at": "2019-01-05T13:23:23Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/451654991",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "author_association": "NONE",
            "body": "On the following page the reference to the log can be found:\r\nhttps://hydra.nixos.org/build/86735910",
            "created_at": "2019-01-05T14:00:44Z",
            "html_url": "https://github.com/cython/cython/issues/2785#issuecomment-451657728",
            "id": 451657728,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2785",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MTY1NzcyOA==",
            "updated_at": "2019-01-05T14:00:44Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/451657728",
            "user": {
                "avatar_url": "https://avatars3.githubusercontent.com/u/2129135?v=4",
                "events_url": "https://api.github.com/users/FRidh/events{/privacy}",
                "followers_url": "https://api.github.com/users/FRidh/followers",
                "following_url": "https://api.github.com/users/FRidh/following{/other_user}",
                "gists_url": "https://api.github.com/users/FRidh/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/FRidh",
                "id": 2129135,
                "login": "FRidh",
                "node_id": "MDQ6VXNlcjIxMjkxMzU=",
                "organizations_url": "https://api.github.com/users/FRidh/orgs",
                "received_events_url": "https://api.github.com/users/FRidh/received_events",
                "repos_url": "https://api.github.com/users/FRidh/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/FRidh/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/FRidh/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/FRidh"
            }
        },
        {
            "author_association": "NONE",
            "body": "I don't see any other reference to `test_embed` in the log.",
            "created_at": "2019-01-05T14:06:07Z",
            "html_url": "https://github.com/cython/cython/issues/2785#issuecomment-451658416",
            "id": 451658416,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2785",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MTY1ODQxNg==",
            "updated_at": "2019-01-05T14:06:07Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/451658416",
            "user": {
                "avatar_url": "https://avatars3.githubusercontent.com/u/2129135?v=4",
                "events_url": "https://api.github.com/users/FRidh/events{/privacy}",
                "followers_url": "https://api.github.com/users/FRidh/followers",
                "following_url": "https://api.github.com/users/FRidh/following{/other_user}",
                "gists_url": "https://api.github.com/users/FRidh/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/FRidh",
                "id": 2129135,
                "login": "FRidh",
                "node_id": "MDQ6VXNlcjIxMjkxMzU=",
                "organizations_url": "https://api.github.com/users/FRidh/orgs",
                "received_events_url": "https://api.github.com/users/FRidh/received_events",
                "repos_url": "https://api.github.com/users/FRidh/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/FRidh/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/FRidh/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/FRidh"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Ah, right, the names of the specific files are different. This is the error:\r\n```\r\n/nix/store/3xwc1ip20b0p68sxqbjjll0va4pv5hbv-binutils-2.30/bin/ld: cannot find -lncurses\r\ncollect2: error: ld returned 1 exit status\r\nmake: *** [Makefile:19: embedded] Error 1\r\n```\r\nMy guess is that CPython was somehow built with `ncurses` and remembered that in its distutils build flags, but during the Cython build, the library is not available. Not an actual Cython problem, rather a dependency problem with the specific CPython installation.",
            "created_at": "2019-01-05T16:59:30Z",
            "html_url": "https://github.com/cython/cython/issues/2785#issuecomment-451671782",
            "id": 451671782,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2785",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MTY3MTc4Mg==",
            "updated_at": "2019-01-05T16:59:30Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/451671782",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "author_association": "NONE",
            "body": "Ahh, thanks for showing that. We recently wiped some info from `sysconfigdata` in not a very clean way, so it may be related to that. Might have to do that. Thanks again!",
            "created_at": "2019-01-05T17:02:22Z",
            "html_url": "https://github.com/cython/cython/issues/2785#issuecomment-451672046",
            "id": 451672046,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2785",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MTY3MjA0Ng==",
            "updated_at": "2019-01-05T17:02:22Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/451672046",
            "user": {
                "avatar_url": "https://avatars3.githubusercontent.com/u/2129135?v=4",
                "events_url": "https://api.github.com/users/FRidh/events{/privacy}",
                "followers_url": "https://api.github.com/users/FRidh/followers",
                "following_url": "https://api.github.com/users/FRidh/following{/other_user}",
                "gists_url": "https://api.github.com/users/FRidh/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/FRidh",
                "id": 2129135,
                "login": "FRidh",
                "node_id": "MDQ6VXNlcjIxMjkxMzU=",
                "organizations_url": "https://api.github.com/users/FRidh/orgs",
                "received_events_url": "https://api.github.com/users/FRidh/received_events",
                "repos_url": "https://api.github.com/users/FRidh/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/FRidh/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/FRidh/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/FRidh"
            }
        }
    ],
    "comments": 5,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/2785/comments",
    "created_at": "2019-01-05T13:17:29Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars3.githubusercontent.com/u/2129135?v=4",
                "events_url": "https://api.github.com/users/FRidh/events{/privacy}",
                "followers_url": "https://api.github.com/users/FRidh/followers",
                "following_url": "https://api.github.com/users/FRidh/following{/other_user}",
                "gists_url": "https://api.github.com/users/FRidh/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/FRidh",
                "id": 2129135,
                "login": "FRidh",
                "node_id": "MDQ6VXNlcjIxMjkxMzU=",
                "organizations_url": "https://api.github.com/users/FRidh/orgs",
                "received_events_url": "https://api.github.com/users/FRidh/received_events",
                "repos_url": "https://api.github.com/users/FRidh/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/FRidh/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/FRidh/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/FRidh"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2019-01-05T17:02:23Z",
            "event": "closed",
            "id": 2055958324,
            "node_id": "MDExOkNsb3NlZEV2ZW50MjA1NTk1ODMyNA==",
            "url": "https://api.github.com/repos/cython/cython/issues/events/2055958324"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/2785/events",
    "html_url": "https://github.com/cython/cython/issues/2785",
    "id": 396164756,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/2785/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWUzOTYxNjQ3NTY=",
    "number": 2785,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "closed",
    "title": "`test_embed` failure with Python 3.7.2 and cython 0.29.2",
    "updated_at": "2019-01-05T17:02:23Z",
    "url": "https://api.github.com/repos/cython/cython/issues/2785",
    "user": {
        "avatar_url": "https://avatars3.githubusercontent.com/u/2129135?v=4",
        "events_url": "https://api.github.com/users/FRidh/events{/privacy}",
        "followers_url": "https://api.github.com/users/FRidh/followers",
        "following_url": "https://api.github.com/users/FRidh/following{/other_user}",
        "gists_url": "https://api.github.com/users/FRidh/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/FRidh",
        "id": 2129135,
        "login": "FRidh",
        "node_id": "MDQ6VXNlcjIxMjkxMzU=",
        "organizations_url": "https://api.github.com/users/FRidh/orgs",
        "received_events_url": "https://api.github.com/users/FRidh/received_events",
        "repos_url": "https://api.github.com/users/FRidh/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/FRidh/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/FRidh/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/FRidh"
    }
}