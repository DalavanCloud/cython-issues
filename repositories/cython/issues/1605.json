{
    "assignee": null,
    "assignees": [],
    "body": "Typed memoryviews don't work with read-only buffers. A banal example:\r\n```cython\r\ncpdef getmax(double[:] x):\r\n    cdef double max = -float('inf')\r\n    for val in x:\r\n        if val > max:\r\n            max = val\r\n    return max\r\n```\r\nExample session:\r\n```py\r\n>>> import numpy as np\r\n>>> values = np.random.random(8)\r\n>>> values \r\narray([ 0.4574,  0.8468,  0.744 ,  0.3764,  0.7581,  0.8123,  0.8783,  0.9341])\r\n\r\n>>> import getmax\r\n>>> getmax.getmax(values)\r\n0.9341213061235054\r\n\r\n>>> values.setflags(write=False)\r\n>>> assert values.flags.writeable == False\r\n>>> getmax.getmax(values)\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-8-669165de7389> in <module>()\r\n----> 1 getmax.getmax(values)\r\n\r\n/tmp/getmax.pyx in getmax.getmax (getmax.c:1617)()\r\n----> 1 cpdef getmax(double[:] x):\r\n      2     cdef:\r\n      3         double max = -float('inf')\r\n      4 \r\n      5     for val in x:\r\n\r\n/tmp/getmax.so in View.MemoryView.memoryview_cwrapper (getmax.c:7403)()\r\n/tmp/getmax.so in View.MemoryView.memoryview.__cinit__ (getmax.c:3678)()\r\n\r\nValueError: buffer source array is read-only\r\n```\r\nThere is no evident reason why above simple function wouldn't work with a read-only buffer. About two years ago, this issue was raised on the mailing list along with a RFC patch:\r\nhttps://mail.python.org/pipermail/cython-devel/2015-February/004316.html\r\nSome discussion about a possible use for a `const` keyword:\r\nhttps://groups.google.com/forum/#!topic/cython-users/32CMgaLrNhc",
    "closed_at": null,
    "comment_data": [],
    "comments": 0,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/1605/comments",
    "created_at": "2017-02-14T15:58:30Z",
    "event_data": [],
    "events_url": "https://api.github.com/repos/cython/cython/issues/1605/events",
    "html_url": "https://github.com/cython/cython/issues/1605",
    "id": 207556472,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/1605/labels{/name}",
    "locked": false,
    "milestone": null,
    "number": 1605,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "title": "Typed memoryview doesn't work with read-only buffers",
    "updated_at": "2017-02-14T15:58:30Z",
    "url": "https://api.github.com/repos/cython/cython/issues/1605",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/684364?v=3",
        "events_url": "https://api.github.com/users/kernc/events{/privacy}",
        "followers_url": "https://api.github.com/users/kernc/followers",
        "following_url": "https://api.github.com/users/kernc/following{/other_user}",
        "gists_url": "https://api.github.com/users/kernc/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/kernc",
        "id": 684364,
        "login": "kernc",
        "organizations_url": "https://api.github.com/users/kernc/orgs",
        "received_events_url": "https://api.github.com/users/kernc/received_events",
        "repos_url": "https://api.github.com/users/kernc/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/kernc/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/kernc/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/kernc"
    }
}