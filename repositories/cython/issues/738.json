{
    "assignee": null,
    "assignees": [],
    "body": "```\nStefan Behnel wrote:\n> Robert Bradshaw wrote:\n>> It would be really useful to have a mode/mechanism to get the  \n>> position of the code when an error like this occurs. I can think of  \n>> several ways to do it, but all would significantly impact speed.\n> \n> Yes, I thought about that, too, a couple of times already. The stack traces\n> are not very helpful, what you'd need is a dump of the syntax tree nodes\n> that are along the trace path.\n> \n> We could do that by catching all exceptions in Main.py, collecting all\n> objects that belong to method calls in the stack trace, and dumping all\n> that inherit from Node.\n> \n> This won't work for compiled code, but exceptions inside the parser are\n> rare anyway. Most of the compiler crashes I had to deal with so far were in\n> Nodes or ExprNodes.\n> \n> Something even simpler could work for transforms, where we control the\n> traversal in framework code. Here, we could just catch all exceptions in\n> visit() and dump the current tree path.\n```\n\nMigrated from http://trac.cython.org/ticket/179",
    "closed_at": "2009-01-10T15:55:35Z",
    "comment_data": [
        {
            "body": "**scoder** changed **owner** to `scoder`\n**status** from `new` to `assigned`\ncommented",
            "created_at": "2009-01-10T12:36:19Z",
            "html_url": "https://github.com/cython/cython/issues/738#issuecomment-240042671",
            "id": 240042671,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/738",
            "updated_at": "2016-08-16T08:53:15Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/240042671",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/486017?v=3",
                "events_url": "https://api.github.com/users/robertwb/events{/privacy}",
                "followers_url": "https://api.github.com/users/robertwb/followers",
                "following_url": "https://api.github.com/users/robertwb/following{/other_user}",
                "gists_url": "https://api.github.com/users/robertwb/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/robertwb",
                "id": 486017,
                "login": "robertwb",
                "organizations_url": "https://api.github.com/users/robertwb/orgs",
                "received_events_url": "https://api.github.com/users/robertwb/received_events",
                "repos_url": "https://api.github.com/users/robertwb/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/robertwb/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/robertwb/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/robertwb"
            }
        },
        {
            "body": "**scoder** commented\n\nI added a more descriptive error message for compiler crashes in transforms for now:\n\nhttp://hg.cython.org/cython-devel/rev/7110f62bc826\n\nExample (with a fake error that simply raises an exception somewhere):\n```\n$ python bin/cython tests/run/attr.pyx\nError converting Pyrex file to C:\n------------------------------------------------------------\n...                                                         \n    2                                                       \n    >>> b.spam.eggs.spam.i                                  \n    4                                                       \n\"\"\"                                                         \n\ndef f(b):\n^        \n------------------------------------------------------------\n\n/home/sbehnel/source/Python/cython/cython-work/tests/run/attr.pyx:59:0: Compiler crash in AnalyseExpressionsTransform\n\nModuleNode.body = StatListNode(attr.pyx:1:0,\n    gil_message = 'Operation',              \n    is_literal = 0,                         \n    is_name = 0)                            \nStatListNode.stats[= DefNode(attr.pyx:59:0,\n    gil_message = 'Operation',                \n    is_literal = 0,                           \n    is_name = 0,                              \n    is_wrapper = 0,                           \n    name = u'f',                              \n    needs_closure = False,                    \n    num_kwonly_args = 0,                      \n    num_required_args = 1,                    \n    num_required_kw_args = 0,                 \n    pxd_locals = [...](1]),                       \n    reqd_kw_flags_cname = '0')                \n\nCompiler crash traceback from this point on:\n  File \"/home/sbehnel/source/Python/cython/cython-work/Cython/Compiler/Visitor.py\", line 128, in visitchild\n    result = self.visit(child)\n  File \"/home/sbehnel/source/Python/cython/cython-work/Cython/Compiler/Visitor.py\", line 45, in visit\n    return handler_method(obj)\n  File \"/home/sbehnel/source/Python/cython/cython-work/Cython/Compiler/ParseTreeTransforms.py\", line 744, in visit_FuncDefNode\n    node.body.analyse_expressions(node.local_scope)\n  File \"/home/sbehnel/source/Python/cython/cython-work/Cython/Compiler/Nodes.py\", line 320, in analyse_expressions\n    stat.analyse_expressions(env)\n  File \"/home/sbehnel/source/Python/cython/cython-work/Cython/Compiler/Nodes.py\", line 2730, in analyse_expressions\n    self.analyse_types(env)\n  File \"/home/sbehnel/source/Python/cython/cython-work/Cython/Compiler/Nodes.py\", line 2823, in analyse_types\n    self.rhs.analyse_types(env)\n  File \"/home/sbehnel/source/Python/cython/cython-work/Cython/Compiler/ExprNodes.py\", line 2638, in analyse_types\n    self.analyse_as_ordinary_attribute(env, target)\n  File \"/home/sbehnel/source/Python/cython/cython-work/Cython/Compiler/ExprNodes.py\", line 2717, in analyse_as_ordinary_attribute\n    self.analyse_attribute(env)\n  File \"/home/sbehnel/source/Python/cython/cython-work/Cython/Compiler/ExprNodes.py\", line 2743, in analyse_attribute\n    raise InternalError(None)\nInternalError: Internal compiler error: None\n```\n\nAs can be seen, it still lacks support for printing a tree path inside the node call stack. But it's a start.",
            "created_at": "2009-01-10T14:47:03Z",
            "html_url": "https://github.com/cython/cython/issues/738#issuecomment-240042672",
            "id": 240042672,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/738",
            "updated_at": "2016-08-16T08:53:15Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/240042672",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/486017?v=3",
                "events_url": "https://api.github.com/users/robertwb/events{/privacy}",
                "followers_url": "https://api.github.com/users/robertwb/followers",
                "following_url": "https://api.github.com/users/robertwb/following{/other_user}",
                "gists_url": "https://api.github.com/users/robertwb/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/robertwb",
                "id": 486017,
                "login": "robertwb",
                "organizations_url": "https://api.github.com/users/robertwb/orgs",
                "received_events_url": "https://api.github.com/users/robertwb/received_events",
                "repos_url": "https://api.github.com/users/robertwb/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/robertwb/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/robertwb/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/robertwb"
            }
        },
        {
            "body": "**scoder** changed **resolution** to `fixed`\n**status** from `assigned` to `closed`\ncommented\n\nAnd here's the rest:\n\nhttp://hg.cython.org/cython-devel/rev/e279baa0c002",
            "created_at": "2009-01-10T15:55:35Z",
            "html_url": "https://github.com/cython/cython/issues/738#issuecomment-240042674",
            "id": 240042674,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/738",
            "updated_at": "2016-08-16T08:53:15Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/240042674",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/486017?v=3",
                "events_url": "https://api.github.com/users/robertwb/events{/privacy}",
                "followers_url": "https://api.github.com/users/robertwb/followers",
                "following_url": "https://api.github.com/users/robertwb/following{/other_user}",
                "gists_url": "https://api.github.com/users/robertwb/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/robertwb",
                "id": 486017,
                "login": "robertwb",
                "organizations_url": "https://api.github.com/users/robertwb/orgs",
                "received_events_url": "https://api.github.com/users/robertwb/received_events",
                "repos_url": "https://api.github.com/users/robertwb/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/robertwb/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/robertwb/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/robertwb"
            }
        },
        {
            "body": "@robertwb changed **milestone** from `wishlist` to `0.11`\ncommented",
            "created_at": "2009-01-20T02:18:18Z",
            "html_url": "https://github.com/cython/cython/issues/738#issuecomment-240042675",
            "id": 240042675,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/738",
            "updated_at": "2016-08-16T08:53:15Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/240042675",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/486017?v=3",
                "events_url": "https://api.github.com/users/robertwb/events{/privacy}",
                "followers_url": "https://api.github.com/users/robertwb/followers",
                "following_url": "https://api.github.com/users/robertwb/following{/other_user}",
                "gists_url": "https://api.github.com/users/robertwb/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/robertwb",
                "id": 486017,
                "login": "robertwb",
                "organizations_url": "https://api.github.com/users/robertwb/orgs",
                "received_events_url": "https://api.github.com/users/robertwb/received_events",
                "repos_url": "https://api.github.com/users/robertwb/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/robertwb/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/robertwb/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/robertwb"
            }
        }
    ],
    "comments": 4,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/738/comments",
    "created_at": "2009-01-10T11:54:00Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/486017?v=3",
                "events_url": "https://api.github.com/users/robertwb/events{/privacy}",
                "followers_url": "https://api.github.com/users/robertwb/followers",
                "following_url": "https://api.github.com/users/robertwb/following{/other_user}",
                "gists_url": "https://api.github.com/users/robertwb/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/robertwb",
                "id": 486017,
                "login": "robertwb",
                "organizations_url": "https://api.github.com/users/robertwb/orgs",
                "received_events_url": "https://api.github.com/users/robertwb/received_events",
                "repos_url": "https://api.github.com/users/robertwb/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/robertwb/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/robertwb/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/robertwb"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2016-08-16T08:53:15Z",
            "event": "labeled",
            "id": 756738875,
            "label": {
                "color": "444444",
                "name": "Error Reporting"
            },
            "url": "https://api.github.com/repos/cython/cython/issues/events/756738875"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/486017?v=3",
                "events_url": "https://api.github.com/users/robertwb/events{/privacy}",
                "followers_url": "https://api.github.com/users/robertwb/followers",
                "following_url": "https://api.github.com/users/robertwb/following{/other_user}",
                "gists_url": "https://api.github.com/users/robertwb/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/robertwb",
                "id": 486017,
                "login": "robertwb",
                "organizations_url": "https://api.github.com/users/robertwb/orgs",
                "received_events_url": "https://api.github.com/users/robertwb/received_events",
                "repos_url": "https://api.github.com/users/robertwb/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/robertwb/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/robertwb/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/robertwb"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2016-08-16T08:53:15Z",
            "event": "labeled",
            "id": 756738876,
            "label": {
                "color": "444444",
                "name": "enhancement"
            },
            "url": "https://api.github.com/repos/cython/cython/issues/events/756738876"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/486017?v=3",
                "events_url": "https://api.github.com/users/robertwb/events{/privacy}",
                "followers_url": "https://api.github.com/users/robertwb/followers",
                "following_url": "https://api.github.com/users/robertwb/following{/other_user}",
                "gists_url": "https://api.github.com/users/robertwb/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/robertwb",
                "id": 486017,
                "login": "robertwb",
                "organizations_url": "https://api.github.com/users/robertwb/orgs",
                "received_events_url": "https://api.github.com/users/robertwb/received_events",
                "repos_url": "https://api.github.com/users/robertwb/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/robertwb/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/robertwb/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/robertwb"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2016-08-16T08:53:15Z",
            "event": "milestoned",
            "id": 756738878,
            "milestone": {
                "title": "0.11"
            },
            "url": "https://api.github.com/repos/cython/cython/issues/events/756738878"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/486017?v=3",
                "events_url": "https://api.github.com/users/robertwb/events{/privacy}",
                "followers_url": "https://api.github.com/users/robertwb/followers",
                "following_url": "https://api.github.com/users/robertwb/following{/other_user}",
                "gists_url": "https://api.github.com/users/robertwb/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/robertwb",
                "id": 486017,
                "login": "robertwb",
                "organizations_url": "https://api.github.com/users/robertwb/orgs",
                "received_events_url": "https://api.github.com/users/robertwb/received_events",
                "repos_url": "https://api.github.com/users/robertwb/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/robertwb/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/robertwb/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/robertwb"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2009-01-10T15:55:35Z",
            "event": "closed",
            "id": 756738884,
            "url": "https://api.github.com/repos/cython/cython/issues/events/756738884"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/486017?v=3",
                "events_url": "https://api.github.com/users/robertwb/events{/privacy}",
                "followers_url": "https://api.github.com/users/robertwb/followers",
                "following_url": "https://api.github.com/users/robertwb/following{/other_user}",
                "gists_url": "https://api.github.com/users/robertwb/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/robertwb",
                "id": 486017,
                "login": "robertwb",
                "organizations_url": "https://api.github.com/users/robertwb/orgs",
                "received_events_url": "https://api.github.com/users/robertwb/received_events",
                "repos_url": "https://api.github.com/users/robertwb/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/robertwb/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/robertwb/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/robertwb"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2016-08-16T08:53:16Z",
            "event": "mentioned",
            "id": 756738895,
            "url": "https://api.github.com/repos/cython/cython/issues/events/756738895"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/486017?v=3",
                "events_url": "https://api.github.com/users/robertwb/events{/privacy}",
                "followers_url": "https://api.github.com/users/robertwb/followers",
                "following_url": "https://api.github.com/users/robertwb/following{/other_user}",
                "gists_url": "https://api.github.com/users/robertwb/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/robertwb",
                "id": 486017,
                "login": "robertwb",
                "organizations_url": "https://api.github.com/users/robertwb/orgs",
                "received_events_url": "https://api.github.com/users/robertwb/received_events",
                "repos_url": "https://api.github.com/users/robertwb/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/robertwb/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/robertwb/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/robertwb"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2016-08-16T08:53:16Z",
            "event": "subscribed",
            "id": 756738896,
            "url": "https://api.github.com/repos/cython/cython/issues/events/756738896"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/738/events",
    "html_url": "https://github.com/cython/cython/issues/738",
    "id": 171357039,
    "labels": [
        {
            "color": "444444",
            "name": "enhancement",
            "url": "https://api.github.com/repos/cython/cython/labels/enhancement"
        },
        {
            "color": "444444",
            "name": "Error Reporting",
            "url": "https://api.github.com/repos/cython/cython/labels/Error%20Reporting"
        }
    ],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/738/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": "2016-08-16T08:38:53Z",
        "closed_issues": 55,
        "created_at": "2016-08-16T08:38:53Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/486017?v=3",
            "events_url": "https://api.github.com/users/robertwb/events{/privacy}",
            "followers_url": "https://api.github.com/users/robertwb/followers",
            "following_url": "https://api.github.com/users/robertwb/following{/other_user}",
            "gists_url": "https://api.github.com/users/robertwb/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/robertwb",
            "id": 486017,
            "login": "robertwb",
            "organizations_url": "https://api.github.com/users/robertwb/orgs",
            "received_events_url": "https://api.github.com/users/robertwb/received_events",
            "repos_url": "https://api.github.com/users/robertwb/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/robertwb/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/robertwb/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/robertwb"
        },
        "description": "",
        "due_on": null,
        "html_url": "https://github.com/cython/cython/milestones/0.11",
        "id": 1944444,
        "labels_url": "https://api.github.com/repos/cython/cython/milestones/8/labels",
        "number": 8,
        "open_issues": 0,
        "state": "closed",
        "title": "0.11",
        "updated_at": "2016-08-16T08:56:20Z",
        "url": "https://api.github.com/repos/cython/cython/milestones/8"
    },
    "number": 738,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "closed",
    "title": "include syntax tree path in compiler crash output",
    "updated_at": "2009-01-20T02:18:18Z",
    "url": "https://api.github.com/repos/cython/cython/issues/738",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/486017?v=3",
        "events_url": "https://api.github.com/users/robertwb/events{/privacy}",
        "followers_url": "https://api.github.com/users/robertwb/followers",
        "following_url": "https://api.github.com/users/robertwb/following{/other_user}",
        "gists_url": "https://api.github.com/users/robertwb/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/robertwb",
        "id": 486017,
        "login": "robertwb",
        "organizations_url": "https://api.github.com/users/robertwb/orgs",
        "received_events_url": "https://api.github.com/users/robertwb/received_events",
        "repos_url": "https://api.github.com/users/robertwb/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/robertwb/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/robertwb/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/robertwb"
    }
}