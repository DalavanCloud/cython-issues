{
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "Windows 7 x64 sp1\r\nStackless Python 2.7.14 x32\r\nCython 0.28.3\r\n\r\n\r\nI am not sure if it is possibly something I am doing wrong. There is a project I am working on and it compiles using Python 2.7.14 without problem. When I compile it using Stackless Python 2.7.14 I get a Python app crash as soon as it starts cythonizing.\r\n\r\nHere is the data from the app crash window\r\n\r\n    Problem Event Name:\tAPPCRASH\r\n    Application Name:\tpython.exe\r\n    Application Version:\t0.0.0.0\r\n    Application Timestamp:\t59ccecdf\r\n    Fault Module Name:\tpython27.dll\r\n    Fault Module Version:\t2.7.14150.1013\r\n    Fault Module Timestamp:\t59ccecce\r\n    Exception Code:\tc0000005\r\n    Exception Offset:\t00069c2a\r\n    OS Version:\t6.1.7601.2.1.0.256.1\r\n    Locale ID:\t1033\r\n    Additional Information 1:\t0a9e\r\n    Additional Information 2:\t0a9e372d3b4ad19135b953a78882e789\r\n    Additional Information 3:\t0a9e\r\n    Additional Information 4:\t0a9e372d3b4ad19135b953a78882e789\r\n\r\nI am building python_openzwave (updated version that will build on Windows) and I am more then happy to provide the code and requirements to build it if it is needed to do some testing. I think that because it builds properly without Stackless that there is some kind of a compatibility issue with Stackless. The project I am working on has been around since 1996 and unfortunately Stackless Python is not something that can be removed and the version of python can not be upgraded at the present time.\r\n\r\nI searched the internet to see if anyone has had an issue with the 2 working together and I could not find any issues. I couldn't find anything on someone running the 2 together either. Pretty much a dead end.\r\n\r\nAny help is appreciated.\r\nThanks again.\r\nKevin\r\n\r\n",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "I also forgot to mention.\r\n\r\nAfter I compile using Python if I copy the compiled library over to the Stackless installation I am not able to run the library even tho they are both the same version of Python. Stackless exits with this message\r\n\r\n    Process finished with exit code -1073741819 (0xC0000005)\r\n\r\n",
            "created_at": "2018-07-07T19:22:58Z",
            "html_url": "https://github.com/cython/cython/issues/2476#issuecomment-403237701",
            "id": 403237701,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2476",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzIzNzcwMQ==",
            "updated_at": "2018-07-07T19:22:58Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/403237701",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/10932297?v=4",
                "events_url": "https://api.github.com/users/kdschlosser/events{/privacy}",
                "followers_url": "https://api.github.com/users/kdschlosser/followers",
                "following_url": "https://api.github.com/users/kdschlosser/following{/other_user}",
                "gists_url": "https://api.github.com/users/kdschlosser/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/kdschlosser",
                "id": 10932297,
                "login": "kdschlosser",
                "node_id": "MDQ6VXNlcjEwOTMyMjk3",
                "organizations_url": "https://api.github.com/users/kdschlosser/orgs",
                "received_events_url": "https://api.github.com/users/kdschlosser/received_events",
                "repos_url": "https://api.github.com/users/kdschlosser/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/kdschlosser/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kdschlosser/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/kdschlosser"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I never tried Cython with Stackless, and I'm no Windows user, so I can't comment on this. But if you could run it in a debugger to get a stack trace of the crash, that might be helpful.",
            "created_at": "2018-07-08T12:10:41Z",
            "html_url": "https://github.com/cython/cython/issues/2476#issuecomment-403283366",
            "id": 403283366,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2476",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzI4MzM2Ng==",
            "updated_at": "2018-07-08T12:10:41Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/403283366",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "author_association": "NONE",
            "body": "I have never had the need to run python code through a debugger. I know of the pdb module for python but I have never used this before. I know I also have the ability to debug the crash with Visual Studio but when I do it really doesn't show a whole lot because of not having pdb files associated to anything python related.\r\n\r\nI could be going about this wrong. if you could give me a direction to head in so i can get the correct information over to ya.\r\n\r\nit appears to me from what debugging information i did get was that the fault happens just after StringIOTree.pyd files gets loaded. Now whether the error is in this file. or possibly the one that loads after it i do not know.\r\n\r\nI do want to also mention that Stackless python does have an addition include directory and I have tried both having it added and not and the error persists.\r\n",
            "created_at": "2018-07-09T18:03:24Z",
            "html_url": "https://github.com/cython/cython/issues/2476#issuecomment-403568240",
            "id": 403568240,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2476",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzU2ODI0MA==",
            "updated_at": "2018-07-09T18:03:24Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/403568240",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/10932297?v=4",
                "events_url": "https://api.github.com/users/kdschlosser/events{/privacy}",
                "followers_url": "https://api.github.com/users/kdschlosser/followers",
                "following_url": "https://api.github.com/users/kdschlosser/following{/other_user}",
                "gists_url": "https://api.github.com/users/kdschlosser/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/kdschlosser",
                "id": 10932297,
                "login": "kdschlosser",
                "node_id": "MDQ6VXNlcjEwOTMyMjk3",
                "organizations_url": "https://api.github.com/users/kdschlosser/orgs",
                "received_events_url": "https://api.github.com/users/kdschlosser/received_events",
                "repos_url": "https://api.github.com/users/kdschlosser/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/kdschlosser/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kdschlosser/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/kdschlosser"
            }
        },
        {
            "author_association": "NONE",
            "body": "what is very strange is the fact that it will not compile on Stackless but it does compile on the save version of  a non Stackless python. and if i take the compiled version and move it to the Stackless installation it does not run. and I get the exact same error.  I thought I should mention that as well.",
            "created_at": "2018-07-12T06:32:47Z",
            "html_url": "https://github.com/cython/cython/issues/2476#issuecomment-404404482",
            "id": 404404482,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2476",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDQwNDQ4Mg==",
            "updated_at": "2018-07-12T06:32:47Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/404404482",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/10932297?v=4",
                "events_url": "https://api.github.com/users/kdschlosser/events{/privacy}",
                "followers_url": "https://api.github.com/users/kdschlosser/followers",
                "following_url": "https://api.github.com/users/kdschlosser/following{/other_user}",
                "gists_url": "https://api.github.com/users/kdschlosser/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/kdschlosser",
                "id": 10932297,
                "login": "kdschlosser",
                "node_id": "MDQ6VXNlcjEwOTMyMjk3",
                "organizations_url": "https://api.github.com/users/kdschlosser/orgs",
                "received_events_url": "https://api.github.com/users/kdschlosser/received_events",
                "repos_url": "https://api.github.com/users/kdschlosser/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/kdschlosser/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kdschlosser/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/kdschlosser"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I added test jobs for stackless to travis (Linux only). Seems to [fail completely](https://api.travis-ci.org/v3/job/405554719/log.txt) for 2.7, based on some issue in the test runner, but seems to [work quite well](https://api.travis-ci.org/v3/job/405554720/log.txt) in Stackless Py3.6, with only one failure in the embedding test (which has a rather involved build setup, so the failure is not very surprising).",
            "created_at": "2018-07-22T18:49:27Z",
            "html_url": "https://github.com/cython/cython/issues/2476#issuecomment-406888127",
            "id": 406888127,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2476",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjg4ODEyNw==",
            "updated_at": "2018-07-22T19:07:07Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/406888127",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "`pdb` won't help here, since the crash is at the native level, not in Python code. Visual Studio would be the right place to look. I never used it, though, so I can't help with that.",
            "created_at": "2018-07-22T19:10:04Z",
            "html_url": "https://github.com/cython/cython/issues/2476#issuecomment-406889426",
            "id": 406889426,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2476",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjg4OTQyNg==",
            "updated_at": "2018-07-22T19:10:23Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/406889426",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "author_association": "NONE",
            "body": "OK well that is great that you did some test runs. and have also encountered the problem.\r\n\r\nWhat i find strange is if i compile using Python 2.7 it compiles without error and the compiled ll loads without error. Then if i load the compiled dll in Stackless 2.7 i get the same error that i get when i compile the code using Stackless.\r\n\r\nCould the problem lie with Stackless and not Cython?\r\nI am in the same boat as far as Visual Studio knowledge.  \r\n\r\nYou may need to alter the include paths so it includes the additional h files that are in stackless. there are additional subfolders under the normal python includes folder. I am not sure if you accounted for this. I do not know the file structure of Stackless 3+ and if this same thing needs to be accounted for.\r\n\r\nWould you happen to be able to provide me with the error output for the travis builds for 2.7 I think i may ask some questions over in the stackless repo. ",
            "created_at": "2018-07-24T05:48:02Z",
            "html_url": "https://github.com/cython/cython/issues/2476#issuecomment-407288580",
            "id": 407288580,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2476",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzI4ODU4MA==",
            "updated_at": "2018-07-24T05:48:02Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/407288580",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/10932297?v=4",
                "events_url": "https://api.github.com/users/kdschlosser/events{/privacy}",
                "followers_url": "https://api.github.com/users/kdschlosser/followers",
                "following_url": "https://api.github.com/users/kdschlosser/following{/other_user}",
                "gists_url": "https://api.github.com/users/kdschlosser/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/kdschlosser",
                "id": 10932297,
                "login": "kdschlosser",
                "node_id": "MDQ6VXNlcjEwOTMyMjk3",
                "organizations_url": "https://api.github.com/users/kdschlosser/orgs",
                "received_events_url": "https://api.github.com/users/kdschlosser/received_events",
                "repos_url": "https://api.github.com/users/kdschlosser/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/kdschlosser/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kdschlosser/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/kdschlosser"
            }
        },
        {
            "author_association": "NONE",
            "body": "as you can see I am talking to the folks that make stackless. If there some kind of a minimal example that causes this crash that i can give them. they want to run it with a debugging version they have compiled. The only thing I have is the project I am working on which has a more complicated build environment that needs to be set up first. ",
            "created_at": "2018-07-26T04:08:52Z",
            "html_url": "https://github.com/cython/cython/issues/2476#issuecomment-407970387",
            "id": 407970387,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2476",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzk3MDM4Nw==",
            "updated_at": "2018-07-26T04:09:04Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/407970387",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/10932297?v=4",
                "events_url": "https://api.github.com/users/kdschlosser/events{/privacy}",
                "followers_url": "https://api.github.com/users/kdschlosser/followers",
                "following_url": "https://api.github.com/users/kdschlosser/following{/other_user}",
                "gists_url": "https://api.github.com/users/kdschlosser/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/kdschlosser",
                "id": 10932297,
                "login": "kdschlosser",
                "node_id": "MDQ6VXNlcjEwOTMyMjk3",
                "organizations_url": "https://api.github.com/users/kdschlosser/orgs",
                "received_events_url": "https://api.github.com/users/kdschlosser/received_events",
                "repos_url": "https://api.github.com/users/kdschlosser/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/kdschlosser/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kdschlosser/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/kdschlosser"
            }
        }
    ],
    "comments": 8,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/2476/comments",
    "created_at": "2018-07-07T17:04:38Z",
    "event_data": [],
    "events_url": "https://api.github.com/repos/cython/cython/issues/2476/events",
    "html_url": "https://github.com/cython/cython/issues/2476",
    "id": 339160445,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/2476/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWUzMzkxNjA0NDU=",
    "number": 2476,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "title": "Issue with Stackless Python 2.7.14",
    "updated_at": "2018-07-26T04:09:04Z",
    "url": "https://api.github.com/repos/cython/cython/issues/2476",
    "user": {
        "avatar_url": "https://avatars0.githubusercontent.com/u/10932297?v=4",
        "events_url": "https://api.github.com/users/kdschlosser/events{/privacy}",
        "followers_url": "https://api.github.com/users/kdschlosser/followers",
        "following_url": "https://api.github.com/users/kdschlosser/following{/other_user}",
        "gists_url": "https://api.github.com/users/kdschlosser/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/kdschlosser",
        "id": 10932297,
        "login": "kdschlosser",
        "node_id": "MDQ6VXNlcjEwOTMyMjk3",
        "organizations_url": "https://api.github.com/users/kdschlosser/orgs",
        "received_events_url": "https://api.github.com/users/kdschlosser/received_events",
        "repos_url": "https://api.github.com/users/kdschlosser/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/kdschlosser/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/kdschlosser/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/kdschlosser"
    }
}