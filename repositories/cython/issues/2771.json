{
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "I want to compile my c extension using the setup.py shown below. Because the c files are contained inside of the subfolders, I want to include multiple directories using `include_dirs`. I think I am using include_dirs correctly, but cython still couldn't find my files. Can someone please tell me where I might do wrong?\r\nThis is my code:\r\n```python\r\nfrom setuptools import setup\r\nfrom setuptools.extension import Extension\r\nsetup(\r\n    name=\"mycodecpy\",\r\n    version=\"1.0\",\r\n    description=\"mycodecpy\",\r\n    setup_requires=[\r\n        'setuptools >= 18.0',\r\n        'Cython',\r\n    ],\r\n    ext_modules=[\r\n     Extension(\"mycodecpy\", [\"mycodecpy.pyx\", \"cpu.c\", ...],\r\n               include_dirs=[\r\n                   'abc/src/dd',\r\n                   'abc/src/ee',\r\n                   'abc/src/',\r\n               ],\r\n\r\n               )\r\n    ],\r\n)\r\n```\r\nThis is my directory tree:\r\n```\r\n├── abc\r\n│   ├──__init__.py\r\n│   └── _src\r\n│       ├──__init__.py\r\n│       ├── (some files need to be included here)\r\n│       ├── dd\r\n│       │   ├──__init__.py\r\n│       │   └── (some files need to be included here)\r\n│       └── ee\r\n│           ├──__init__.py\r\n│           └── (some files need to be included here)\r\n├── setup.py\r\n├── mycodecpy.pyx\r\n└── (some other files)\r\n```\r\nPlease Note that in the **mycodecpy.pyx**, I do have something related to **random.h** (as shown below). I really hope that `include_dirs` will help **mycodecpy.pyx** find the **random.h** inside of the abc/src/dd subfolder.\r\n```c\r\ncdef extern from \"random.h\":\r\n # something here\r\n```\r\nThe error I got is:\r\n```\r\nc1 : fatal error C1083: Cannot open source file: 'cpu.c': No such file or directory\r\n```\r\nAs you can see, it can't find cpu.c, but I'm sure cpu.c is in the subfolder `abc/src/dd`.\r\nIf I put all the files into one folder and the same level as setup.py, there would be no problem. I wonder if there is any better way to solve this issue?\r\nI am using python 2.7, windows 10, and Microsoft Visual C++ Compiler for Python. ",
    "closed_at": "2018-12-30T19:11:42Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "1) This is not related to Cython but to distutils/setuptools.\r\n2) This is not a bug or feature ticket at all, but more of a help request, which is best asked on the mailing list.\r\n\r\nYou are compiling a module from multiple sources, but you are not providing the correct paths for the source files. Sources are not looked up in the \"include\" path, which is only for files that the C compiler includes (or that Cython needs for the translation). Use the correct relative paths for the source files and it should work.",
            "created_at": "2018-12-30T19:11:42Z",
            "html_url": "https://github.com/cython/cython/issues/2771#issuecomment-450580670",
            "id": 450580670,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2771",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDU4MDY3MA==",
            "updated_at": "2018-12-30T19:12:02Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/450580670",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        }
    ],
    "comments": 1,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/2771/comments",
    "created_at": "2018-12-30T03:31:29Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars3.githubusercontent.com/u/18351023?v=4",
                "events_url": "https://api.github.com/users/theandychung/events{/privacy}",
                "followers_url": "https://api.github.com/users/theandychung/followers",
                "following_url": "https://api.github.com/users/theandychung/following{/other_user}",
                "gists_url": "https://api.github.com/users/theandychung/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/theandychung",
                "id": 18351023,
                "login": "theandychung",
                "node_id": "MDQ6VXNlcjE4MzUxMDIz",
                "organizations_url": "https://api.github.com/users/theandychung/orgs",
                "received_events_url": "https://api.github.com/users/theandychung/received_events",
                "repos_url": "https://api.github.com/users/theandychung/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/theandychung/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/theandychung/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/theandychung"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2018-12-30T12:06:43Z",
            "event": "renamed",
            "id": 2048399458,
            "node_id": "MDE3OlJlbmFtZWRUaXRsZUV2ZW50MjA0ODM5OTQ1OA==",
            "rename": {
                "from": "Is this the correct way to use include_dirs for extension?",
                "to": "Error when multiple directories in include_dirs for extension"
            },
            "url": "https://api.github.com/repos/cython/cython/issues/events/2048399458"
        },
        {
            "actor": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2018-12-30T19:11:42Z",
            "event": "closed",
            "id": 2048522863,
            "node_id": "MDExOkNsb3NlZEV2ZW50MjA0ODUyMjg2Mw==",
            "url": "https://api.github.com/repos/cython/cython/issues/events/2048522863"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/2771/events",
    "html_url": "https://github.com/cython/cython/issues/2771",
    "id": 394843166,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/2771/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWUzOTQ4NDMxNjY=",
    "number": 2771,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "closed",
    "title": "Error when multiple directories in include_dirs for extension",
    "updated_at": "2018-12-30T23:38:15Z",
    "url": "https://api.github.com/repos/cython/cython/issues/2771",
    "user": {
        "avatar_url": "https://avatars3.githubusercontent.com/u/18351023?v=4",
        "events_url": "https://api.github.com/users/theandychung/events{/privacy}",
        "followers_url": "https://api.github.com/users/theandychung/followers",
        "following_url": "https://api.github.com/users/theandychung/following{/other_user}",
        "gists_url": "https://api.github.com/users/theandychung/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/theandychung",
        "id": 18351023,
        "login": "theandychung",
        "node_id": "MDQ6VXNlcjE4MzUxMDIz",
        "organizations_url": "https://api.github.com/users/theandychung/orgs",
        "received_events_url": "https://api.github.com/users/theandychung/received_events",
        "repos_url": "https://api.github.com/users/theandychung/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/theandychung/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/theandychung/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/theandychung"
    }
}