{
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "It will raise any error: `unsupported option '--lto-partition=none'`\r\n",
    "closed_at": "2018-07-09T17:17:10Z",
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "Cython is automatically tested against Clang with travis.ci and those tests are passing for pipy releases. Which means that the bug you mention is not trivial to reproduce. Could you provide as much details as possible to help us reproduce the bug? ",
            "created_at": "2018-07-06T16:29:37Z",
            "html_url": "https://github.com/cython/cython/issues/2472#issuecomment-403083404",
            "id": 403083404,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2472",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzA4MzQwNA==",
            "updated_at": "2018-07-06T16:29:37Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/403083404",
            "user": {
                "avatar_url": "https://avatars1.githubusercontent.com/u/12891691?v=4",
                "events_url": "https://api.github.com/users/gabrieldemarmiesse/events{/privacy}",
                "followers_url": "https://api.github.com/users/gabrieldemarmiesse/followers",
                "following_url": "https://api.github.com/users/gabrieldemarmiesse/following{/other_user}",
                "gists_url": "https://api.github.com/users/gabrieldemarmiesse/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/gabrieldemarmiesse",
                "id": 12891691,
                "login": "gabrieldemarmiesse",
                "node_id": "MDQ6VXNlcjEyODkxNjkx",
                "organizations_url": "https://api.github.com/users/gabrieldemarmiesse/orgs",
                "received_events_url": "https://api.github.com/users/gabrieldemarmiesse/received_events",
                "repos_url": "https://api.github.com/users/gabrieldemarmiesse/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/gabrieldemarmiesse/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/gabrieldemarmiesse/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/gabrieldemarmiesse"
            }
        },
        {
            "author_association": "NONE",
            "body": "After digging deeper, I found this only happened in some system for example fedora. In those system, the Makefile from python config contain some flag like this:\r\n`LDFLAGS=\"$(LDFLAGS) $(PGO_PROF_GEN_FLAG) -flto -fuse-linker-plugin -ffat-lto-objects -flto-partition=none\"`\r\nThus resulting the error, if we manually set CC to clang. \r\nSo I am sorry. This is not related to cython. More like setputools/distutils. The default setputools/distutils behaviour is using default LDSHARED even when `export CC=clang`. But if give `CXX=clang++` in env and `language=\"c++\"` in extension, the linker switch to clang++ but still using all the flags. I guess unset any CC/CXX variables in env is the best choice.",
            "created_at": "2018-07-09T12:55:06Z",
            "html_url": "https://github.com/cython/cython/issues/2472#issuecomment-403468792",
            "id": 403468792,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2472",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzQ2ODc5Mg==",
            "updated_at": "2018-07-09T12:55:06Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/403468792",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/7507440?v=4",
                "events_url": "https://api.github.com/users/braindevices/events{/privacy}",
                "followers_url": "https://api.github.com/users/braindevices/followers",
                "following_url": "https://api.github.com/users/braindevices/following{/other_user}",
                "gists_url": "https://api.github.com/users/braindevices/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/braindevices",
                "id": 7507440,
                "login": "braindevices",
                "node_id": "MDQ6VXNlcjc1MDc0NDA=",
                "organizations_url": "https://api.github.com/users/braindevices/orgs",
                "received_events_url": "https://api.github.com/users/braindevices/received_events",
                "repos_url": "https://api.github.com/users/braindevices/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/braindevices/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/braindevices/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/braindevices"
            }
        },
        {
            "author_association": "NONE",
            "body": "Thanks for the analysis. Could you then close this issue? Thanks! ",
            "created_at": "2018-07-09T15:48:06Z",
            "html_url": "https://github.com/cython/cython/issues/2472#issuecomment-403525949",
            "id": 403525949,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2472",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzUyNTk0OQ==",
            "updated_at": "2018-07-09T15:48:06Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/403525949",
            "user": {
                "avatar_url": "https://avatars1.githubusercontent.com/u/12891691?v=4",
                "events_url": "https://api.github.com/users/gabrieldemarmiesse/events{/privacy}",
                "followers_url": "https://api.github.com/users/gabrieldemarmiesse/followers",
                "following_url": "https://api.github.com/users/gabrieldemarmiesse/following{/other_user}",
                "gists_url": "https://api.github.com/users/gabrieldemarmiesse/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/gabrieldemarmiesse",
                "id": 12891691,
                "login": "gabrieldemarmiesse",
                "node_id": "MDQ6VXNlcjEyODkxNjkx",
                "organizations_url": "https://api.github.com/users/gabrieldemarmiesse/orgs",
                "received_events_url": "https://api.github.com/users/gabrieldemarmiesse/received_events",
                "repos_url": "https://api.github.com/users/gabrieldemarmiesse/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/gabrieldemarmiesse/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/gabrieldemarmiesse/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/gabrieldemarmiesse"
            }
        }
    ],
    "comments": 3,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/2472/comments",
    "created_at": "2018-07-06T14:56:24Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2018-07-07T12:25:51Z",
            "event": "labeled",
            "id": 1721466653,
            "label": {
                "color": "b60205",
                "name": "unclear"
            },
            "node_id": "MDEyOkxhYmVsZWRFdmVudDE3MjE0NjY2NTM=",
            "url": "https://api.github.com/repos/cython/cython/issues/events/1721466653"
        },
        {
            "actor": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/7507440?v=4",
                "events_url": "https://api.github.com/users/braindevices/events{/privacy}",
                "followers_url": "https://api.github.com/users/braindevices/followers",
                "following_url": "https://api.github.com/users/braindevices/following{/other_user}",
                "gists_url": "https://api.github.com/users/braindevices/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/braindevices",
                "id": 7507440,
                "login": "braindevices",
                "node_id": "MDQ6VXNlcjc1MDc0NDA=",
                "organizations_url": "https://api.github.com/users/braindevices/orgs",
                "received_events_url": "https://api.github.com/users/braindevices/received_events",
                "repos_url": "https://api.github.com/users/braindevices/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/braindevices/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/braindevices/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/braindevices"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2018-07-09T17:17:10Z",
            "event": "closed",
            "id": 1723674835,
            "node_id": "MDExOkNsb3NlZEV2ZW50MTcyMzY3NDgzNQ==",
            "url": "https://api.github.com/repos/cython/cython/issues/events/1723674835"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/2472/events",
    "html_url": "https://github.com/cython/cython/issues/2472",
    "id": 338970009,
    "labels": [
        {
            "color": "b60205",
            "default": false,
            "id": 414807834,
            "name": "unclear",
            "node_id": "MDU6TGFiZWw0MTQ4MDc4MzQ=",
            "url": "https://api.github.com/repos/cython/cython/labels/unclear"
        }
    ],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/2472/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWUzMzg5NzAwMDk=",
    "number": 2472,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "closed",
    "title": "cannot build if using clang",
    "updated_at": "2018-07-09T17:17:10Z",
    "url": "https://api.github.com/repos/cython/cython/issues/2472",
    "user": {
        "avatar_url": "https://avatars0.githubusercontent.com/u/7507440?v=4",
        "events_url": "https://api.github.com/users/braindevices/events{/privacy}",
        "followers_url": "https://api.github.com/users/braindevices/followers",
        "following_url": "https://api.github.com/users/braindevices/following{/other_user}",
        "gists_url": "https://api.github.com/users/braindevices/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/braindevices",
        "id": 7507440,
        "login": "braindevices",
        "node_id": "MDQ6VXNlcjc1MDc0NDA=",
        "organizations_url": "https://api.github.com/users/braindevices/orgs",
        "received_events_url": "https://api.github.com/users/braindevices/received_events",
        "repos_url": "https://api.github.com/users/braindevices/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/braindevices/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/braindevices/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/braindevices"
    }
}