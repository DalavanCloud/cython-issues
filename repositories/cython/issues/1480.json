{
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "The documentation in [compilation.rst](../blob/master/docs/src/reference/compilation.rst#configuring-the-c-build) claims that\n\n```\ncythonize(extensions, include_path=[numpy.get_include()])\n```\n\nadds the numpy include path to the include file search path used by the compiler. This has been quoted many times and the documented feature is used by many packages, although with zero effect: `include_path` only adds to the search path used by Cython to find `pyx` and `pxd` files.\n\nSome alternative ways to address this:\n1. Change docs to match code by removing the misleading section.\n2. Change code to match docs by adding the feature. \n3. Change docs and code to use `cython(include_dirs=[])` as a way for globally specifying C include paths. \n4. Change it all to have `cython_include_dirs` and `c_include_dirs` (or path).\n\n3 has the benefit that code using `include_path` will continue to function as before (no effect on C include path), while making the feature people have obviously been expecting available. The term `include_dir` would then consistently (albeit not obviously) refer to the C includes and the term `include_path` to the Cython includes. \n",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "CONTRIBUTOR",
            "body": "Whatever you do, make sure not to break existing packages using `include_path` or `include_dirs` correctly :-)",
            "created_at": "2016-10-13T14:31:44Z",
            "html_url": "https://github.com/cython/cython/issues/1480#issuecomment-253530574",
            "id": 253530574,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/1480",
            "node_id": "MDEyOklzc3VlQ29tbWVudDI1MzUzMDU3NA==",
            "updated_at": "2017-01-30T09:05:30Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/253530574",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/3625785?v=4",
                "events_url": "https://api.github.com/users/jdemeyer/events{/privacy}",
                "followers_url": "https://api.github.com/users/jdemeyer/followers",
                "following_url": "https://api.github.com/users/jdemeyer/following{/other_user}",
                "gists_url": "https://api.github.com/users/jdemeyer/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jdemeyer",
                "id": 3625785,
                "login": "jdemeyer",
                "node_id": "MDQ6VXNlcjM2MjU3ODU=",
                "organizations_url": "https://api.github.com/users/jdemeyer/orgs",
                "received_events_url": "https://api.github.com/users/jdemeyer/received_events",
                "repos_url": "https://api.github.com/users/jdemeyer/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jdemeyer/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jdemeyer/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jdemeyer"
            }
        },
        {
            "author_association": "NONE",
            "body": "I'd say it's not a doc bug but a Cython bug. `cythonize` produces an `Extension` object which has `include_dirs` as one of its attributes. `cythonize` should be setting this attribute.\n\n```\n>>> from Cython.Build import cythonize\n>>> import numpy as np\n>>> e=cythonize(\"test.pyx\",include_path=[np.get_include()])\n>>> len(e)\n1\n>>> e[0].include_dirs\n[]\n```\n",
            "created_at": "2016-10-30T23:04:55Z",
            "html_url": "https://github.com/cython/cython/issues/1480#issuecomment-257186791",
            "id": 257186791,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/1480",
            "node_id": "MDEyOklzc3VlQ29tbWVudDI1NzE4Njc5MQ==",
            "updated_at": "2016-10-31T00:02:22Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/257186791",
            "user": {
                "avatar_url": "https://avatars3.githubusercontent.com/u/2670332?v=4",
                "events_url": "https://api.github.com/users/native-api/events{/privacy}",
                "followers_url": "https://api.github.com/users/native-api/followers",
                "following_url": "https://api.github.com/users/native-api/following{/other_user}",
                "gists_url": "https://api.github.com/users/native-api/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/native-api",
                "id": 2670332,
                "login": "native-api",
                "node_id": "MDQ6VXNlcjI2NzAzMzI=",
                "organizations_url": "https://api.github.com/users/native-api/orgs",
                "received_events_url": "https://api.github.com/users/native-api/received_events",
                "repos_url": "https://api.github.com/users/native-api/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/native-api/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/native-api/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/native-api"
            }
        },
        {
            "author_association": "NONE",
            "body": "Here's a patch as a suggestion. \nI could make it pick the possible `Extension` options from the `**options` of `cythonize()` easily enough using the `distutils_settings` list, but I'm not certain that the`cythonize()` parameter namespace would benefit. In particular, `include_path` (referring to Cython includes only) and `include_dir` (referring to C/C++ compiler include directives) are so similar that confusion would be guaranteed.\n",
            "created_at": "2016-11-04T23:21:49Z",
            "html_url": "https://github.com/cython/cython/issues/1480#issuecomment-258571077",
            "id": 258571077,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/1480",
            "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODU3MTA3Nw==",
            "updated_at": "2016-11-04T23:21:49Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/258571077",
            "user": {
                "avatar_url": "https://avatars3.githubusercontent.com/u/2774474?v=4",
                "events_url": "https://api.github.com/users/epruesse/events{/privacy}",
                "followers_url": "https://api.github.com/users/epruesse/followers",
                "following_url": "https://api.github.com/users/epruesse/following{/other_user}",
                "gists_url": "https://api.github.com/users/epruesse/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/epruesse",
                "id": 2774474,
                "login": "epruesse",
                "node_id": "MDQ6VXNlcjI3NzQ0NzQ=",
                "organizations_url": "https://api.github.com/users/epruesse/orgs",
                "received_events_url": "https://api.github.com/users/epruesse/received_events",
                "repos_url": "https://api.github.com/users/epruesse/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/epruesse/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/epruesse/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/epruesse"
            }
        },
        {
            "author_association": "NONE",
            "body": "I was under impression that NumPy's C include path is being passed to `cythonize` because Cython actually needs the header files for code generation (they effectively being included with `cimport`). Well, if you're sure it doesn't...\n",
            "created_at": "2016-11-04T23:34:06Z",
            "html_url": "https://github.com/cython/cython/issues/1480#issuecomment-258572636",
            "id": 258572636,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/1480",
            "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODU3MjYzNg==",
            "updated_at": "2016-11-04T23:36:11Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/258572636",
            "user": {
                "avatar_url": "https://avatars3.githubusercontent.com/u/2670332?v=4",
                "events_url": "https://api.github.com/users/native-api/events{/privacy}",
                "followers_url": "https://api.github.com/users/native-api/followers",
                "following_url": "https://api.github.com/users/native-api/following{/other_user}",
                "gists_url": "https://api.github.com/users/native-api/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/native-api",
                "id": 2670332,
                "login": "native-api",
                "node_id": "MDQ6VXNlcjI2NzAzMzI=",
                "organizations_url": "https://api.github.com/users/native-api/orgs",
                "received_events_url": "https://api.github.com/users/native-api/received_events",
                "repos_url": "https://api.github.com/users/native-api/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/native-api/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/native-api/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/native-api"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> Cython actually needs the header files for code generation\r\n\r\nCython doesn't need any `.h` files. It just generates `#incude \"foo.h\"` statements and it's the C compiler who will actually read the header files.\r\n\r\nCython does look for headers in `include_dirs`, but only to add them as dependenies. It's not an error (not should it be) if the headers are not found.",
            "created_at": "2017-03-09T13:03:25Z",
            "html_url": "https://github.com/cython/cython/issues/1480#issuecomment-285345533",
            "id": 285345533,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/1480",
            "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTM0NTUzMw==",
            "updated_at": "2017-03-09T13:03:25Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/285345533",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/3625785?v=4",
                "events_url": "https://api.github.com/users/jdemeyer/events{/privacy}",
                "followers_url": "https://api.github.com/users/jdemeyer/followers",
                "following_url": "https://api.github.com/users/jdemeyer/following{/other_user}",
                "gists_url": "https://api.github.com/users/jdemeyer/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jdemeyer",
                "id": 3625785,
                "login": "jdemeyer",
                "node_id": "MDQ6VXNlcjM2MjU3ODU=",
                "organizations_url": "https://api.github.com/users/jdemeyer/orgs",
                "received_events_url": "https://api.github.com/users/jdemeyer/received_events",
                "repos_url": "https://api.github.com/users/jdemeyer/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jdemeyer/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jdemeyer/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jdemeyer"
            }
        },
        {
            "author_association": "NONE",
            "body": "Having just hit this and spent a while trying to figure out how to work around it, I'd like to voice my support for solution #2 (I can't see the harm, but I don't know much about this, so ...), but also just as an interim measure doing #1 or some variant to fix the docs, which is explicitly claiming something with numpy that doesn't work. I know I'm not the only one to be mislead by this, just by how very often this issue shows up:\r\n\r\nhttps://www.google.com/search?q=numpy%2Farrayobject.h%27+file+not+found&oq=numpy%2Farrayobject.h%27+file+not+found&aqs=chrome..69i57j69i58.427j0j7&sourceid=chrome&ie=UTF-8\r\n\r\nFor posterity, my interim solution was to pass in my own Extension() to cythonize, which does kinda take away from the benefit of having cythonize in the first place IMHO.\r\n\r\n```python\r\nfrom setuptools import setup, Extension\r\nfrom Cython.Build import cythonize\r\nimport numpy as np\r\n\r\nsetup(\r\n    name='xyz',\r\n    ext_modules=cythonize(\r\n        Extension(\r\n            \"xyz\",\r\n            sources=[a/b.pyx\"],\r\n            include_dirs=[np.get_include()]\r\n        )\r\n    ),\r\n    install_requires=[\"numpy\"]\r\n)\r\n```",
            "created_at": "2018-07-02T17:23:45Z",
            "html_url": "https://github.com/cython/cython/issues/1480#issuecomment-401875701",
            "id": 401875701,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/1480",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQwMTg3NTcwMQ==",
            "updated_at": "2018-07-02T17:23:45Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/401875701",
            "user": {
                "avatar_url": "https://avatars3.githubusercontent.com/u/161965?v=4",
                "events_url": "https://api.github.com/users/makmanalp/events{/privacy}",
                "followers_url": "https://api.github.com/users/makmanalp/followers",
                "following_url": "https://api.github.com/users/makmanalp/following{/other_user}",
                "gists_url": "https://api.github.com/users/makmanalp/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/makmanalp",
                "id": 161965,
                "login": "makmanalp",
                "node_id": "MDQ6VXNlcjE2MTk2NQ==",
                "organizations_url": "https://api.github.com/users/makmanalp/orgs",
                "received_events_url": "https://api.github.com/users/makmanalp/received_events",
                "repos_url": "https://api.github.com/users/makmanalp/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/makmanalp/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/makmanalp/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/makmanalp"
            }
        }
    ],
    "comments": 6,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/1480/comments",
    "created_at": "2016-10-07T20:11:56Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars3.githubusercontent.com/u/2774474?v=4",
                "events_url": "https://api.github.com/users/epruesse/events{/privacy}",
                "followers_url": "https://api.github.com/users/epruesse/followers",
                "following_url": "https://api.github.com/users/epruesse/following{/other_user}",
                "gists_url": "https://api.github.com/users/epruesse/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/epruesse",
                "id": 2774474,
                "login": "epruesse",
                "node_id": "MDQ6VXNlcjI3NzQ0NzQ=",
                "organizations_url": "https://api.github.com/users/epruesse/orgs",
                "received_events_url": "https://api.github.com/users/epruesse/received_events",
                "repos_url": "https://api.github.com/users/epruesse/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/epruesse/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/epruesse/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/epruesse"
            },
            "commit_id": "e28368e145ad761f3f0c13ccd5f01ef05f07a46c",
            "commit_url": "https://api.github.com/repos/epruesse/cython/commits/e28368e145ad761f3f0c13ccd5f01ef05f07a46c",
            "created_at": "2016-11-04T23:14:14Z",
            "event": "referenced",
            "id": 848613630,
            "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDg0ODYxMzYzMA==",
            "url": "https://api.github.com/repos/cython/cython/issues/events/848613630"
        },
        {
            "actor": {
                "avatar_url": "https://avatars3.githubusercontent.com/u/6951729?v=4",
                "events_url": "https://api.github.com/users/JanoHorvath/events{/privacy}",
                "followers_url": "https://api.github.com/users/JanoHorvath/followers",
                "following_url": "https://api.github.com/users/JanoHorvath/following{/other_user}",
                "gists_url": "https://api.github.com/users/JanoHorvath/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/JanoHorvath",
                "id": 6951729,
                "login": "JanoHorvath",
                "node_id": "MDQ6VXNlcjY5NTE3Mjk=",
                "organizations_url": "https://api.github.com/users/JanoHorvath/orgs",
                "received_events_url": "https://api.github.com/users/JanoHorvath/received_events",
                "repos_url": "https://api.github.com/users/JanoHorvath/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/JanoHorvath/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/JanoHorvath/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/JanoHorvath"
            },
            "commit_id": "2ccfc649829255a050b18194a2a7f88d1d0e0166",
            "commit_url": "https://api.github.com/repos/mhhennig/HS2/commits/2ccfc649829255a050b18194a2a7f88d1d0e0166",
            "created_at": "2017-11-15T17:05:26Z",
            "event": "referenced",
            "id": 1343451600,
            "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDEzNDM0NTE2MDA=",
            "url": "https://api.github.com/repos/cython/cython/issues/events/1343451600"
        },
        {
            "actor": {
                "avatar_url": "https://avatars3.githubusercontent.com/u/6951729?v=4",
                "events_url": "https://api.github.com/users/JanoHorvath/events{/privacy}",
                "followers_url": "https://api.github.com/users/JanoHorvath/followers",
                "following_url": "https://api.github.com/users/JanoHorvath/following{/other_user}",
                "gists_url": "https://api.github.com/users/JanoHorvath/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/JanoHorvath",
                "id": 6951729,
                "login": "JanoHorvath",
                "node_id": "MDQ6VXNlcjY5NTE3Mjk=",
                "organizations_url": "https://api.github.com/users/JanoHorvath/orgs",
                "received_events_url": "https://api.github.com/users/JanoHorvath/received_events",
                "repos_url": "https://api.github.com/users/JanoHorvath/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/JanoHorvath/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/JanoHorvath/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/JanoHorvath"
            },
            "commit_id": "cbb704b969f5d8b738ff3f8e0d9a6486b98f2ead",
            "commit_url": "https://api.github.com/repos/mhhennig/HS2/commits/cbb704b969f5d8b738ff3f8e0d9a6486b98f2ead",
            "created_at": "2017-11-15T17:10:14Z",
            "event": "referenced",
            "id": 1343461161,
            "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDEzNDM0NjExNjE=",
            "url": "https://api.github.com/repos/cython/cython/issues/events/1343461161"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/1480/events",
    "html_url": "https://github.com/cython/cython/issues/1480",
    "id": 181757616,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/1480/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWUxODE3NTc2MTY=",
    "number": 1480,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "title": "docs error: cythonize(include_path=x) does not set C include path",
    "updated_at": "2018-07-02T17:23:46Z",
    "url": "https://api.github.com/repos/cython/cython/issues/1480",
    "user": {
        "avatar_url": "https://avatars3.githubusercontent.com/u/2774474?v=4",
        "events_url": "https://api.github.com/users/epruesse/events{/privacy}",
        "followers_url": "https://api.github.com/users/epruesse/followers",
        "following_url": "https://api.github.com/users/epruesse/following{/other_user}",
        "gists_url": "https://api.github.com/users/epruesse/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/epruesse",
        "id": 2774474,
        "login": "epruesse",
        "node_id": "MDQ6VXNlcjI3NzQ0NzQ=",
        "organizations_url": "https://api.github.com/users/epruesse/orgs",
        "received_events_url": "https://api.github.com/users/epruesse/received_events",
        "repos_url": "https://api.github.com/users/epruesse/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/epruesse/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/epruesse/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/epruesse"
    }
}