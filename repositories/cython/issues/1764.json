{
    "assignee": null,
    "assignees": [],
    "body": "backtrace is here:\r\n```\r\n#0  0x00007ffff79aab0b in type_dealloc (type=0x7ffff52baa20 <PyArray_Type>) at Objects/typeobject.c:3101\r\n#1  0x00007fffdfce9dda in __pyx_pf_7sklearn_7cluster_14_k_means_elkan_k_means_elkan (__pyx_v_signatures=<optimized out>, __pyx_v_args=<optimized out>, \r\n    __pyx_v_kwargs=0x7fffde98cbd0, __pyx_v_defaults=<optimized out>, __pyx_self=<optimized out>) at sklearn/cluster/_k_means_elkan.c:4125\r\n#2  0x00007fffdfcec3ce in __pyx_pw_7sklearn_7cluster_14_k_means_elkan_1k_means_elkan (__pyx_self=<optimized out>, __pyx_args=0x7fffde6e7bd8, __pyx_kwds=<optimized out>)\r\n    at sklearn/cluster/_k_means_elkan.c:3503\r\n```\r\nnot sure if there's anything you can help with, just wanted to point out that the beta breaks this and I don't know why.",
    "closed_at": "2017-07-09T04:26:42Z",
    "comment_data": [
        {
            "body": "Thanks for the report! Do you have any ideas how to whittle this down to a minimal example? (I'll try to get around to reproducing this as well, but obviously don't have near as much context on this code.)",
            "created_at": "2017-07-07T22:14:25Z",
            "html_url": "https://github.com/cython/cython/issues/1764#issuecomment-313805521",
            "id": 313805521,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/1764",
            "updated_at": "2017-07-07T22:14:25Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/313805521",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/486017?v=3",
                "events_url": "https://api.github.com/users/robertwb/events{/privacy}",
                "followers_url": "https://api.github.com/users/robertwb/followers",
                "following_url": "https://api.github.com/users/robertwb/following{/other_user}",
                "gists_url": "https://api.github.com/users/robertwb/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/robertwb",
                "id": 486017,
                "login": "robertwb",
                "organizations_url": "https://api.github.com/users/robertwb/orgs",
                "received_events_url": "https://api.github.com/users/robertwb/received_events",
                "repos_url": "https://api.github.com/users/robertwb/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/robertwb/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/robertwb/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/robertwb"
            }
        },
        {
            "body": "Minimum example using the scikit-learn code or without it?\r\nI ran into this running the ``test_spectral_biclustering`` which is very indirect. I expect most tests involving kmeans to raise this.\r\nWithout sklearn: no idea and unfortunately I don't have a lot of time to investigate this right now. I can give it a go next week at scipy, though...",
            "created_at": "2017-07-07T22:17:46Z",
            "html_url": "https://github.com/cython/cython/issues/1764#issuecomment-313806082",
            "id": 313806082,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/1764",
            "updated_at": "2017-07-07T22:17:46Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/313806082",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/449558?v=3",
                "events_url": "https://api.github.com/users/amueller/events{/privacy}",
                "followers_url": "https://api.github.com/users/amueller/followers",
                "following_url": "https://api.github.com/users/amueller/following{/other_user}",
                "gists_url": "https://api.github.com/users/amueller/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/amueller",
                "id": 449558,
                "login": "amueller",
                "organizations_url": "https://api.github.com/users/amueller/orgs",
                "received_events_url": "https://api.github.com/users/amueller/received_events",
                "repos_url": "https://api.github.com/users/amueller/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/amueller/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/amueller/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/amueller"
            }
        },
        {
            "body": "Looks like this was caused by 6b1193e95845330f88190b15925d369961a1318b in Cython.",
            "created_at": "2017-07-08T02:29:03Z",
            "html_url": "https://github.com/cython/cython/issues/1764#issuecomment-313827976",
            "id": 313827976,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/1764",
            "updated_at": "2017-07-08T02:29:03Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/313827976",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/486017?v=3",
                "events_url": "https://api.github.com/users/robertwb/events{/privacy}",
                "followers_url": "https://api.github.com/users/robertwb/followers",
                "following_url": "https://api.github.com/users/robertwb/following{/other_user}",
                "gists_url": "https://api.github.com/users/robertwb/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/robertwb",
                "id": 486017,
                "login": "robertwb",
                "organizations_url": "https://api.github.com/users/robertwb/orgs",
                "received_events_url": "https://api.github.com/users/robertwb/received_events",
                "repos_url": "https://api.github.com/users/robertwb/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/robertwb/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/robertwb/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/robertwb"
            }
        },
        {
            "body": "did you bisect that? (if so thanks, if not, your a magician). Is that a bug in Cython or did we mess something up?",
            "created_at": "2017-07-08T03:46:42Z",
            "html_url": "https://github.com/cython/cython/issues/1764#issuecomment-313831139",
            "id": 313831139,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/1764",
            "updated_at": "2017-07-08T03:47:44Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/313831139",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/449558?v=3",
                "events_url": "https://api.github.com/users/amueller/events{/privacy}",
                "followers_url": "https://api.github.com/users/amueller/followers",
                "following_url": "https://api.github.com/users/amueller/following{/other_user}",
                "gists_url": "https://api.github.com/users/amueller/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/amueller",
                "id": 449558,
                "login": "amueller",
                "organizations_url": "https://api.github.com/users/amueller/orgs",
                "received_events_url": "https://api.github.com/users/amueller/received_events",
                "repos_url": "https://api.github.com/users/amueller/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/amueller/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/amueller/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/amueller"
            }
        },
        {
            "body": "Yeah, I bisected that :). Looks like a small patch, hopefully the fix will\nbe easy.\n\nOn Fri, Jul 7, 2017 at 8:46 PM, Andreas Mueller <notifications@github.com>\nwrote:\n\n> did you bisect that? (if so thanks, if not, your a magician)\n>\n> â€”\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/cython/cython/issues/1764#issuecomment-313831139>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/ATqe4pV-OIj21d2q6O5aA3SnwyhMMsNWks5sLvulgaJpZM4OReWR>\n> .\n>\n> --\n> You received this message because you are subscribed to the Google Groups\n> \"cython-github-notifications\" group.\n> To unsubscribe from this group and stop receiving emails from it, send an\n> email to cython-github-notifications+unsubscribe@googlegroups.com.\n> To post to this group, send email to cython-github-notifications@\n> googlegroups.com.\n> To view this discussion on the web visit https://groups.google.com/d/\n> msgid/cython-github-notifications/cython/cython/issues/1764/313831139%\n> 40github.com\n> <https://groups.google.com/d/msgid/cython-github-notifications/cython/cython/issues/1764/313831139%40github.com?utm_medium=email&utm_source=footer>\n> .\n>\n> For more options, visit https://groups.google.com/d/optout.\n>\n",
            "created_at": "2017-07-08T04:27:47Z",
            "html_url": "https://github.com/cython/cython/issues/1764#issuecomment-313832716",
            "id": 313832716,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/1764",
            "updated_at": "2017-07-08T04:27:47Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/313832716",
            "user": {
                "avatar_url": "https://avatars3.githubusercontent.com/u/20618978?v=3",
                "events_url": "https://api.github.com/users/cython-notifications/events{/privacy}",
                "followers_url": "https://api.github.com/users/cython-notifications/followers",
                "following_url": "https://api.github.com/users/cython-notifications/following{/other_user}",
                "gists_url": "https://api.github.com/users/cython-notifications/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/cython-notifications",
                "id": 20618978,
                "login": "cython-notifications",
                "organizations_url": "https://api.github.com/users/cython-notifications/orgs",
                "received_events_url": "https://api.github.com/users/cython-notifications/received_events",
                "repos_url": "https://api.github.com/users/cython-notifications/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/cython-notifications/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/cython-notifications/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/cython-notifications"
            }
        },
        {
            "body": "Thanks. So we should try building against master now? This one is still not resolved: https://github.com/scikit-learn/scikit-learn/pull/9133#issuecomment-313805786 (0.25 and 0.26 have incompatible behavior so that it seems we can't satisfy both at once).",
            "created_at": "2017-07-10T00:23:11Z",
            "html_url": "https://github.com/cython/cython/issues/1764#issuecomment-313975447",
            "id": 313975447,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/1764",
            "updated_at": "2017-07-10T00:23:11Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/313975447",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/449558?v=3",
                "events_url": "https://api.github.com/users/amueller/events{/privacy}",
                "followers_url": "https://api.github.com/users/amueller/followers",
                "following_url": "https://api.github.com/users/amueller/following{/other_user}",
                "gists_url": "https://api.github.com/users/amueller/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/amueller",
                "id": 449558,
                "login": "amueller",
                "organizations_url": "https://api.github.com/users/amueller/orgs",
                "received_events_url": "https://api.github.com/users/amueller/received_events",
                "repos_url": "https://api.github.com/users/amueller/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/amueller/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/amueller/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/amueller"
            }
        }
    ],
    "comments": 6,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/1764/comments",
    "created_at": "2017-07-07T21:48:06Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/449558?v=3",
                "events_url": "https://api.github.com/users/amueller/events{/privacy}",
                "followers_url": "https://api.github.com/users/amueller/followers",
                "following_url": "https://api.github.com/users/amueller/following{/other_user}",
                "gists_url": "https://api.github.com/users/amueller/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/amueller",
                "id": 449558,
                "login": "amueller",
                "organizations_url": "https://api.github.com/users/amueller/orgs",
                "received_events_url": "https://api.github.com/users/amueller/received_events",
                "repos_url": "https://api.github.com/users/amueller/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/amueller/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/amueller/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/amueller"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2017-07-07T21:54:41Z",
            "event": "renamed",
            "id": 1155219314,
            "rename": {
                "from": "segfault in sklearn with beta release in ``__Pyx_XDECREF``",
                "to": "segfault in sklearn with beta release in __Pyx_XDECREF"
            },
            "url": "https://api.github.com/repos/cython/cython/issues/events/1155219314"
        },
        {
            "actor": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/486017?v=3",
                "events_url": "https://api.github.com/users/robertwb/events{/privacy}",
                "followers_url": "https://api.github.com/users/robertwb/followers",
                "following_url": "https://api.github.com/users/robertwb/following{/other_user}",
                "gists_url": "https://api.github.com/users/robertwb/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/robertwb",
                "id": 486017,
                "login": "robertwb",
                "organizations_url": "https://api.github.com/users/robertwb/orgs",
                "received_events_url": "https://api.github.com/users/robertwb/received_events",
                "repos_url": "https://api.github.com/users/robertwb/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/robertwb/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/robertwb/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/robertwb"
            },
            "commit_id": "3ab487f105e4cc9dc7b7e3844cd80078bc534cc4",
            "commit_url": "https://api.github.com/repos/cython-testbed/cython/commits/3ab487f105e4cc9dc7b7e3844cd80078bc534cc4",
            "created_at": "2017-07-08T04:49:13Z",
            "event": "referenced",
            "id": 1155391832,
            "url": "https://api.github.com/repos/cython/cython/issues/events/1155391832"
        },
        {
            "actor": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/486017?v=3",
                "events_url": "https://api.github.com/users/robertwb/events{/privacy}",
                "followers_url": "https://api.github.com/users/robertwb/followers",
                "following_url": "https://api.github.com/users/robertwb/following{/other_user}",
                "gists_url": "https://api.github.com/users/robertwb/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/robertwb",
                "id": 486017,
                "login": "robertwb",
                "organizations_url": "https://api.github.com/users/robertwb/orgs",
                "received_events_url": "https://api.github.com/users/robertwb/received_events",
                "repos_url": "https://api.github.com/users/robertwb/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/robertwb/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/robertwb/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/robertwb"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2017-07-09T04:26:42Z",
            "event": "closed",
            "id": 1155681512,
            "url": "https://api.github.com/repos/cython/cython/issues/events/1155681512"
        },
        {
            "actor": {
                "avatar_url": "https://avatars3.githubusercontent.com/u/491659?v=3",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": "a4fb856ace9c8be3ab84f2ae3b5c697d877f562f",
            "commit_url": "https://api.github.com/repos/cython/cython/commits/a4fb856ace9c8be3ab84f2ae3b5c697d877f562f",
            "created_at": "2017-07-09T12:50:38Z",
            "event": "referenced",
            "id": 1155773433,
            "url": "https://api.github.com/repos/cython/cython/issues/events/1155773433"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/1764/events",
    "html_url": "https://github.com/cython/cython/issues/1764",
    "id": 241389026,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/1764/labels{/name}",
    "locked": false,
    "milestone": null,
    "number": 1764,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "closed",
    "title": "segfault in sklearn with beta release in __Pyx_XDECREF",
    "updated_at": "2017-07-10T00:23:11Z",
    "url": "https://api.github.com/repos/cython/cython/issues/1764",
    "user": {
        "avatar_url": "https://avatars0.githubusercontent.com/u/449558?v=3",
        "events_url": "https://api.github.com/users/amueller/events{/privacy}",
        "followers_url": "https://api.github.com/users/amueller/followers",
        "following_url": "https://api.github.com/users/amueller/following{/other_user}",
        "gists_url": "https://api.github.com/users/amueller/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/amueller",
        "id": 449558,
        "login": "amueller",
        "organizations_url": "https://api.github.com/users/amueller/orgs",
        "received_events_url": "https://api.github.com/users/amueller/received_events",
        "repos_url": "https://api.github.com/users/amueller/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/amueller/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/amueller/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/amueller"
    }
}