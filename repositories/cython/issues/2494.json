{
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "[GCC documentation](https://gcc.gnu.org/onlinedocs/gcc-8.1.0/gcc/Common-Function-Attributes.html#index-optimize-function-attribute) says this about the `optimize` attribute:\n>This attribute should be used for debugging purposes only. It is not suitable in production code.\n\nIn practice, `__attribute__((optimize(\"Os\")))` seems to re-enable strict aliasing, despite `-fno-strict-aliasing` specified on command-line:\n```\ni686-linux-gnu-gcc -pthread -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fno-strict-aliasing -Wdate-time -D_FORTIFY_SOURCE=2 -g -fdebug-prefix-map=/build/python2.7-5qX40H/python2.7-2.7.15=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -fPIC -I/usr/include/python2.7 -c build/temp.linux-i386-2.7/src/decode.c -o build/temp.linux-i386-2.7/build/temp.linux-i386-2.7/src/decode.o -pthread\nbuild/temp.linux-i386-2.7/src/decode.c: In function 'initdecode':\nbuild/temp.linux-i386-2.7/src/decode.c:51244:3: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]\n   __Pyx_INCREF(((PyObject *)(&PyString_Type)));\n   ^~~~~~~~~~~~\n```\n<sup>([full build log](https://buildd.debian.org/status/fetch.php?pkg=python-djvulibre&arch=i386&ver=0.8.1-1&stamp=1531050480&raw=1))</sup>\n\nI was going to file a bug against GCC, but then I realized the attribute shouldn't be used in the first place, and there's apparently [plenty of bugs about it in GCC Bugzilla already](https://gcc.gnu.org/ml/gcc-help/2014-12/msg00130.html).",
    "closed_at": "2018-07-22T20:39:13Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Thanks for finding that out. The `cold` attribute seems to have a similar effect, though:\r\nhttps://gcc.gnu.org/onlinedocs/gcc-8.1.0/gcc/Common-Function-Attributes.html#index-cold-function-attribute",
            "created_at": "2018-07-22T20:00:15Z",
            "html_url": "https://github.com/cython/cython/issues/2494#issuecomment-406892534",
            "id": 406892534,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2494",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjg5MjUzNA==",
            "updated_at": "2018-07-22T20:00:15Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/406892534",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            }
        },
        {
            "author_association": "NONE",
            "body": "@scoder Will Cython be changing the use of the attribute?",
            "created_at": "2018-08-02T14:38:09Z",
            "html_url": "https://github.com/cython/cython/issues/2494#issuecomment-409949656",
            "id": 409949656,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/2494",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQwOTk0OTY1Ng==",
            "updated_at": "2018-08-02T14:38:09Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/409949656",
            "user": {
                "avatar_url": "https://avatars3.githubusercontent.com/u/77272?v=4",
                "events_url": "https://api.github.com/users/charris/events{/privacy}",
                "followers_url": "https://api.github.com/users/charris/followers",
                "following_url": "https://api.github.com/users/charris/following{/other_user}",
                "gists_url": "https://api.github.com/users/charris/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/charris",
                "id": 77272,
                "login": "charris",
                "node_id": "MDQ6VXNlcjc3Mjcy",
                "organizations_url": "https://api.github.com/users/charris/orgs",
                "received_events_url": "https://api.github.com/users/charris/received_events",
                "repos_url": "https://api.github.com/users/charris/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/charris/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/charris/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/charris"
            }
        }
    ],
    "comments": 2,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/2494/comments",
    "created_at": "2018-07-13T15:59:39Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": "9ddac7152091eac62830fea4f38b4d7f9edb6a86",
            "commit_url": "https://api.github.com/repos/cython/cython/commits/9ddac7152091eac62830fea4f38b4d7f9edb6a86",
            "created_at": "2018-07-22T20:39:13Z",
            "event": "closed",
            "id": 1746564752,
            "node_id": "MDExOkNsb3NlZEV2ZW50MTc0NjU2NDc1Mg==",
            "url": "https://api.github.com/repos/cython/cython/issues/events/1746564752"
        },
        {
            "actor": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2018-08-02T14:38:09Z",
            "event": "mentioned",
            "id": 1767843764,
            "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTc2Nzg0Mzc2NA==",
            "url": "https://api.github.com/repos/cython/cython/issues/events/1767843764"
        },
        {
            "actor": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/491659?v=4",
                "events_url": "https://api.github.com/users/scoder/events{/privacy}",
                "followers_url": "https://api.github.com/users/scoder/followers",
                "following_url": "https://api.github.com/users/scoder/following{/other_user}",
                "gists_url": "https://api.github.com/users/scoder/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scoder",
                "id": 491659,
                "login": "scoder",
                "node_id": "MDQ6VXNlcjQ5MTY1OQ==",
                "organizations_url": "https://api.github.com/users/scoder/orgs",
                "received_events_url": "https://api.github.com/users/scoder/received_events",
                "repos_url": "https://api.github.com/users/scoder/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scoder/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scoder/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scoder"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2018-08-02T14:38:09Z",
            "event": "subscribed",
            "id": 1767843765,
            "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE3Njc4NDM3NjU=",
            "url": "https://api.github.com/repos/cython/cython/issues/events/1767843765"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/2494/events",
    "html_url": "https://github.com/cython/cython/issues/2494",
    "id": 341073573,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/2494/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWUzNDEwNzM1NzM=",
    "number": 2494,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "closed",
    "title": "Should not use __attribute__((optimize(…)))",
    "updated_at": "2018-08-02T14:38:09Z",
    "url": "https://api.github.com/repos/cython/cython/issues/2494",
    "user": {
        "avatar_url": "https://avatars2.githubusercontent.com/u/141546?v=4",
        "events_url": "https://api.github.com/users/jwilk/events{/privacy}",
        "followers_url": "https://api.github.com/users/jwilk/followers",
        "following_url": "https://api.github.com/users/jwilk/following{/other_user}",
        "gists_url": "https://api.github.com/users/jwilk/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/jwilk",
        "id": 141546,
        "login": "jwilk",
        "node_id": "MDQ6VXNlcjE0MTU0Ng==",
        "organizations_url": "https://api.github.com/users/jwilk/orgs",
        "received_events_url": "https://api.github.com/users/jwilk/received_events",
        "repos_url": "https://api.github.com/users/jwilk/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/jwilk/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jwilk/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/jwilk"
    }
}