{
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "Here is a small script showing the problem:\r\n\r\n```cython\r\nfrom libcpp.memory cimport shared_ptr\r\nfrom cython.operator cimport dereference as d\r\n\r\ncdef cppclass MyClass:\r\n    int x\r\n\r\ncdef MyClass* m = new MyClass()\r\ncdef shared_ptr[MyClass] m_p = shared_ptr[MyClass](m)\r\n\r\nm.x = 0\r\nprint(\"Initially, m.x = %d\" % m.x)\r\n\r\nd(m_p).x = 10\r\nprint(\"Dereference result: m.x = %d\" % m.x)\r\nd(m_p).x += 1\r\nprint(\"Dereference increment result: m.x = %d\" % m.x)\r\n\r\nm_p.get().x = 20\r\nprint(\"get() result: m.x = %d\" % m.x)\r\nm_p.get().x += 1\r\nprint(\"get() increment result: m.x = %d\" % m.x)\r\n\r\n```\r\n\r\nOutput is:\r\n\r\n```\r\nInitially, m.x = 0\r\nDereference result: m.x = 10\r\nDereference increment result: m.x = 10\r\nget() result: m.x = 20\r\nget() increment result: m.x = 21\r\n```\r\n\r\nThe problem is: although __assigning__ a value to a dereferenced smart pointer works fine, __incrementing__ the same value with `+=` does not.",
    "closed_at": null,
    "comment_data": [],
    "comments": 0,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/2058/comments",
    "created_at": "2018-01-02T16:11:21Z",
    "event_data": [],
    "events_url": "https://api.github.com/repos/cython/cython/issues/2058/events",
    "html_url": "https://github.com/cython/cython/issues/2058",
    "id": 285469263,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/2058/labels{/name}",
    "locked": false,
    "milestone": null,
    "number": 2058,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "title": "Increment/decrement don't work with cython.operator.dereference on C++ smart pointers",
    "updated_at": "2018-01-02T16:11:21Z",
    "url": "https://api.github.com/repos/cython/cython/issues/2058",
    "user": {
        "avatar_url": "https://avatars3.githubusercontent.com/u/854542?v=4",
        "events_url": "https://api.github.com/users/wrongu/events{/privacy}",
        "followers_url": "https://api.github.com/users/wrongu/followers",
        "following_url": "https://api.github.com/users/wrongu/following{/other_user}",
        "gists_url": "https://api.github.com/users/wrongu/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/wrongu",
        "id": 854542,
        "login": "wrongu",
        "organizations_url": "https://api.github.com/users/wrongu/orgs",
        "received_events_url": "https://api.github.com/users/wrongu/received_events",
        "repos_url": "https://api.github.com/users/wrongu/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/wrongu/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/wrongu/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/wrongu"
    }
}