{
    "assignee": null,
    "assignees": [],
    "body": "The following recipe from [SO](http://stackoverflow.com/a/3209862/420755) works in python 2.7.12 but not via cython 0.25.1:\r\n\r\n`my_cython_module.py`\r\n````\r\ndef self_reference(f):\r\n    f.func_defaults = f.func_defaults[:-1] + (f,)\r\n    return f\r\n\r\n@self_reference\r\ndef g(this=None):\r\n  this.msg = 'Success!'\r\n````\r\n`self_reference` replaces the default parameter for `this` to be the argument `f`. This allows `f` to store data about its computation as function attributes.\r\n\r\n`test.py`:\r\n````\r\nimport my_module\r\n\r\nif __name__ == '__main__':\r\n    my_module.g()\r\n    print my_module.g.msg\r\n\r\n````\r\n\r\n\r\n\r\nPython 2.7.12:\r\n> Success!\r\n\r\nCython 0.25.1:\r\n> AttributeError: 'NoneType' object has no attribute 'msg'\r\n\r\nFrom the generated C code, it appears that the parameter is initialized to its default value and possibly overridden by `args` and `vargs`, but updates to `func_defaults` are not considered.\r\n",
    "closed_at": null,
    "comment_data": [],
    "comments": 0,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/1531/comments",
    "created_at": "2016-11-23T00:48:09Z",
    "event_data": [],
    "events_url": "https://api.github.com/repos/cython/cython/issues/1531/events",
    "html_url": "https://github.com/cython/cython/issues/1531",
    "id": 191164238,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/1531/labels{/name}",
    "locked": false,
    "milestone": null,
    "number": 1531,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "title": "`func_defaults` ignored",
    "updated_at": "2016-11-23T00:48:09Z",
    "url": "https://api.github.com/repos/cython/cython/issues/1531",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/152988?v=3",
        "events_url": "https://api.github.com/users/yunesj/events{/privacy}",
        "followers_url": "https://api.github.com/users/yunesj/followers",
        "following_url": "https://api.github.com/users/yunesj/following{/other_user}",
        "gists_url": "https://api.github.com/users/yunesj/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/yunesj",
        "id": 152988,
        "login": "yunesj",
        "organizations_url": "https://api.github.com/users/yunesj/orgs",
        "received_events_url": "https://api.github.com/users/yunesj/received_events",
        "repos_url": "https://api.github.com/users/yunesj/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/yunesj/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/yunesj/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/yunesj"
    }
}