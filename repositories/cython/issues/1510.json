{
    "assignee": null,
    "assignees": [],
    "body": "I have cythonized [cloudpickle](https://github.com/cloudpipe/cloudpickle). The pyx I created compiles fine with Cython 0.24.1 but doesn't with Cython 0.25.x:\r\n\r\n```bash\r\n$ ./setup.py build_ext --inplace\r\nrunning build_ext\r\nbuilding 'bndl.util.cycloudpickle' extension\r\ngcc -pthread -Wno-unused-result -Wsign-compare -Wunreachable-code -DDYNAMIC_ANNOTATIONS_ENABLED=1 -DNDEBUG -O2 -g -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -specs=/usr/lib/rpm/redhat/redhat-hardened-cc1 -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv -fPIC -I/home/frens-jan/Workspaces/tgho/bndl/venv/include -I/usr/include/python3.5m -c bndl/util/cycloudpickle.c -o build/temp.linux-x86_64-3.5/bndl/util/cycloudpickle.o\r\nbndl/util/cycloudpickle.c: In function ‘PyInit_cycloudpickle’:\r\nbndl/util/cycloudpickle.c:36050:52: error: ‘__Pyx_Method_ClassMethod’ undeclared (first use in this function)\r\n   __pyx_t_5 = __Pyx_CFunc_object____object___to_py(__Pyx_Method_ClassMethod); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1281, __pyx_L1_error)\r\n                                                    ^~~~~~~~~~~~~~~~~~~~~~~~\r\nbndl/util/cycloudpickle.c:36050:52: note: each undeclared identifier is reported only once for each function it appears in\r\nerror: command 'gcc' failed with exit status 1\r\n\r\n\r\n(venv) frens-jan bndl $ pip install Cython==0.24.1\r\nCollecting Cython==0.24.1\r\n  Downloading http://localshop.priv.tgho.nl/repo/tgho/download/Cython/30757/Cython-0.24.1-cp35-cp35m-manylinux1_x86_64.whl (6.5MB)\r\n    100% |████████████████████████████████| 6.5MB 170kB/s \r\nInstalling collected packages: Cython\r\n  Found existing installation: Cython 0.25.1\r\n    Uninstalling Cython-0.25.1:\r\n      Successfully uninstalled Cython-0.25.1\r\nSuccessfully installed Cython-0.24.1\r\n\r\n$ rm -rf bndl/util/cycloudpickle.c\r\n\r\n$ ./setup.py build_ext --inplace\r\nCompiling bndl/util/cycloudpickle.pyx because it changed.\r\n[1/1] Cythonizing bndl/util/cycloudpickle.pyx\r\nrunning build_ext\r\nbuilding 'bndl.util.cycloudpickle' extension\r\ngcc -pthread -Wno-unused-result -Wsign-compare -Wunreachable-code -DDYNAMIC_ANNOTATIONS_ENABLED=1 -DNDEBUG -O2 -g -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -specs=/usr/lib/rpm/redhat/redhat-hardened-cc1 -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv -fPIC -I/home/frens-jan/Workspaces/tgho/bndl/venv/include -I/usr/include/python3.5m -c bndl/util/cycloudpickle.c -o build/temp.linux-x86_64-3.5/bndl/util/cycloudpickle.o\r\ngcc -pthread -shared -Wl,-z,relro -specs=/usr/lib/rpm/redhat/redhat-hardened-ld build/temp.linux-x86_64-3.5/bndl/util/cycloudpickle.o -L/usr/lib64 -lpython3.5m -o build/lib.linux-x86_64-3.5/bndl/util/cycloudpickle.cpython-35m-x86_64-linux-gnu.so\r\ncopying build/lib.linux-x86_64-3.5/bndl/util/cycloudpickle.cpython-35m-x86_64-linux-gnu.so -> bndl/util\r\n```\r\n\r\nFrom the release notes I couldn't figure out what changed.\r\n\r\nThe 'offending' source code is the last line of:\r\n```python\r\n    def save_classmethod(self, obj):\r\n        try:\r\n            orig_func = obj.__func__\r\n        except AttributeError:  # Python 2.6\r\n            orig_func = obj.__get__(None, object)\r\n            if isinstance(obj, classmethod):\r\n                orig_func = orig_func.__func__  # Unbind\r\n        self.save_reduce(type(obj), (orig_func,), obj=obj)\r\n    dispatch[classmethod] = save_classmethod\r\n```\r\n\r\n```save_classmethod``` is a method of ```cdef class CloudPickler(Pickler)```. Changing from a cdef class to a 'regular' class doesn't make a difference.\r\n\r\nIf anyone can point out my error / what went wrong? Highly appreciated!",
    "closed_at": "2016-11-03T13:05:35Z",
    "comment_data": [
        {
            "body": "Apparently easily fixed with:\r\n```python\r\nfrom builtins import classmethod, staticmethod\r\n```",
            "created_at": "2016-11-03T13:05:35Z",
            "html_url": "https://github.com/cython/cython/issues/1510#issuecomment-258136552",
            "id": 258136552,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/1510",
            "updated_at": "2016-11-03T13:05:35Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/258136552",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/3985389?v=3",
                "events_url": "https://api.github.com/users/frensjan/events{/privacy}",
                "followers_url": "https://api.github.com/users/frensjan/followers",
                "following_url": "https://api.github.com/users/frensjan/following{/other_user}",
                "gists_url": "https://api.github.com/users/frensjan/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/frensjan",
                "id": 3985389,
                "login": "frensjan",
                "organizations_url": "https://api.github.com/users/frensjan/orgs",
                "received_events_url": "https://api.github.com/users/frensjan/received_events",
                "repos_url": "https://api.github.com/users/frensjan/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/frensjan/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/frensjan/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/frensjan"
            }
        }
    ],
    "comments": 1,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/1510/comments",
    "created_at": "2016-11-03T12:51:20Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/3985389?v=3",
                "events_url": "https://api.github.com/users/frensjan/events{/privacy}",
                "followers_url": "https://api.github.com/users/frensjan/followers",
                "following_url": "https://api.github.com/users/frensjan/following{/other_user}",
                "gists_url": "https://api.github.com/users/frensjan/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/frensjan",
                "id": 3985389,
                "login": "frensjan",
                "organizations_url": "https://api.github.com/users/frensjan/orgs",
                "received_events_url": "https://api.github.com/users/frensjan/received_events",
                "repos_url": "https://api.github.com/users/frensjan/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/frensjan/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/frensjan/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/frensjan"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2016-11-03T13:05:35Z",
            "event": "closed",
            "id": 846334244,
            "url": "https://api.github.com/repos/cython/cython/issues/events/846334244"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/1510/events",
    "html_url": "https://github.com/cython/cython/issues/1510",
    "id": 187051116,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/1510/labels{/name}",
    "locked": false,
    "milestone": null,
    "number": 1510,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "closed",
    "title": "error: ‘__Pyx_Method_ClassMethod’ undeclared introduced in Cython 0.25?",
    "updated_at": "2016-11-03T13:05:35Z",
    "url": "https://api.github.com/repos/cython/cython/issues/1510",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/3985389?v=3",
        "events_url": "https://api.github.com/users/frensjan/events{/privacy}",
        "followers_url": "https://api.github.com/users/frensjan/followers",
        "following_url": "https://api.github.com/users/frensjan/following{/other_user}",
        "gists_url": "https://api.github.com/users/frensjan/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/frensjan",
        "id": 3985389,
        "login": "frensjan",
        "organizations_url": "https://api.github.com/users/frensjan/orgs",
        "received_events_url": "https://api.github.com/users/frensjan/received_events",
        "repos_url": "https://api.github.com/users/frensjan/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/frensjan/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/frensjan/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/frensjan"
    }
}