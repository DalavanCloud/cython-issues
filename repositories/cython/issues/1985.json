{
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "Measuring and reporting the coverage of the Cython module does not appear to be working correctly in the case of this package ( https://github.com/jakirkham/cyminmax/commit/675f86170ac89891a3fd56f169fa9003eb50102c ). In particular, an error is seen when reporting the coverage and trying to submit it. This occurs on both Python 2 and Python 3. Details from the report and submission failures are included below. Links to relevant CI logs are included in the details. While the errors may initially appear to be unrelated, both issues share the same cause on local inspection. On the surface, the problem seems to share a similar cause to issue ( https://github.com/cython/cython/issues/1898 ). However this is not limited to Windows and upgrading `cython` to `0.27.1+` does not seem to affect the issue.\r\n\r\n<details>\r\n<summary>Coverage Report Error:</summary>\r\n\r\n```python\r\n$ coverage report -m\r\nsrc/cyminmax.pyx   TypeError: 'NoneType' object is not iterable\r\nName       Stmts   Miss Branch BrPart  Cover   Missing\r\n------------------------------------------------------\r\nsetup.py      54      0     11      0   100%\r\n```\r\n\r\nxref: https://travis-ci.org/jakirkham/cyminmax/jobs/298596443#L883-L887\r\n\r\n</details>\r\n\r\n<br>\r\n\r\n<details>\r\n<summary>Coveralls Submission Error:</summary>\r\n\r\n```python\r\n$ coveralls\r\n...\r\nTraceback (most recent call last):\r\n  File \"/home/travis/miniconda/envs/dplenv/bin/coveralls\", line 6, in <module>\r\n    sys.exit(coveralls.wear())\r\n  File \"/home/travis/miniconda/envs/dplenv/lib/python3.5/site-packages/coveralls/__init__.py\", line 94, in wear\r\n    source_files=coverage.coveralls(args.base_dir, ignore_errors=args.ignore_errors, merge_file=args.merge_file),\r\n  File \"/home/travis/miniconda/envs/dplenv/lib/python3.5/site-packages/coveralls/control.py\", line 9, in coveralls\r\n    return reporter.report(base_dir, ignore_errors=ignore_errors, merge_file=merge_file)\r\n  File \"/home/travis/miniconda/envs/dplenv/lib/python3.5/site-packages/coveralls/report.py\", line 20, in report\r\n    analysis = self.coverage._analyze(fr)\r\n  File \"/home/travis/miniconda/envs/dplenv/lib/python3.5/site-packages/coverage/control.py\", line 891, in _analyze\r\n    return Analysis(self.data, it)\r\n  File \"/home/travis/miniconda/envs/dplenv/lib/python3.5/site-packages/coverage/results.py\", line 19, in __init__\r\n    self.statements = self.file_reporter.lines()\r\n  File \"/home/travis/miniconda/envs/dplenv/lib/python3.5/site-packages/Cython/Coverage.py\", line 276, in lines\r\n    return set(self._code)\r\nTypeError: 'NoneType' object is not iterable\r\n```\r\n\r\nxref: https://travis-ci.org/jakirkham/cyminmax/jobs/298596443#L1003-L1018\r\n\r\n</details>",
    "closed_at": null,
    "comment_data": [],
    "comments": 0,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/1985/comments",
    "created_at": "2017-11-07T21:57:26Z",
    "event_data": [],
    "events_url": "https://api.github.com/repos/cython/cython/issues/1985/events",
    "html_url": "https://github.com/cython/cython/issues/1985",
    "id": 271998740,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/1985/labels{/name}",
    "locked": false,
    "milestone": null,
    "number": 1985,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "title": "Cython coverage fails on trivial module",
    "updated_at": "2017-11-07T21:57:26Z",
    "url": "https://api.github.com/repos/cython/cython/issues/1985",
    "user": {
        "avatar_url": "https://avatars1.githubusercontent.com/u/3019665?v=4",
        "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
        "followers_url": "https://api.github.com/users/jakirkham/followers",
        "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
        "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/jakirkham",
        "id": 3019665,
        "login": "jakirkham",
        "organizations_url": "https://api.github.com/users/jakirkham/orgs",
        "received_events_url": "https://api.github.com/users/jakirkham/received_events",
        "repos_url": "https://api.github.com/users/jakirkham/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/jakirkham"
    }
}