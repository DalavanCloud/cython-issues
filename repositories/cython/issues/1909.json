{
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "I've been trying to debug a Cython module that uses a few large pxd files to interface with some external C libraries.  I guess one of them has an error in it somewhere but I'm having a hard time tracking it down and Cython seems to generate odd code as a result.  I've made the smallest example that exhibits the behavior in hopes that there is something I can do to have problems like this flagged (or at least a warning).\r\n\r\nmydefs.pxd\r\n```\r\ncdef enum things:\r\n    thing1, thing2, cat\r\n```\r\n\r\nmymodule.pyx\r\n```\r\ncimport mydefs\r\n  if mydefs.thing3:\r\n    print \"HOORAY\r\n else:\r\n    print \"BOOOO\"\r\n```\r\n\r\nIn this minimal example, I'm obviously accessing something from `mydefs` that doesn't exist, but it compiles fine and the runtime error isn't particularly helpful:\r\n```\r\n  File \"myprog.pyx\", line 3, in init myprog (myprog.c:803)\r\n    if mydefs.thing3:\r\nNameError: name 'mydefs' is not defined\r\n```\r\n\r\nIs there something I can to have Cython check for errors like this?  Why isn't that checked for by default?\r\n",
    "closed_at": "2017-10-04T13:32:46Z",
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "You should be getting an error \"cimported module has no attribute\n'thing3'\". Are you importing this package as well as cimporting it? What\nversion of Cython are you using?\n\nOn Tue, Oct 3, 2017 at 2:45 PM, rpmcnally <notifications@github.com> wrote:\n\n> I've been trying to debug a Cython module that uses a few large pxd files\n> to interface with some external C libraries. I guess one of them has an\n> error in it somewhere but I'm having a hard time tracking it down and\n> Cython seems to generate odd code as a result. I've made the smallest\n> example that exhibits the behavior in hopes that there is something I can\n> do to have problems like this flagged (or at least a warning).\n>\n> mydefs.pxd\n>\n> cdef enum things:\n>     thing1, thing2, cat\n>\n> mymodule.pyx\n>\n> cimport mydefs\n>   if mydefs.thing3:\n>     print \"HOORAY\n>  else:\n>     print \"BOOOO\"\n>\n> In this minimal example, I'm obviously accessing something from mydefs\n> that doesn't exist, but it compiles fine and the runtime error isn't\n> particularly helpful:\n>\n>   File \"myprog.pyx\", line 3, in init myprog (myprog.c:803)\n>     if mydefs.thing3:\n> NameError: name 'mydefs' is not defined\n>\n> Is there something I can to have Cython check for errors like this? Why\n> isn't that checked for by default?\n>\n> â€”\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/cython/cython/issues/1909>, or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ATqe4gLQYj6-vliQFpkr1RP9onq2wNaCks5soqr_gaJpZM4Ps0Ux>\n> .\n>\n> --\n> You received this message because you are subscribed to the Google Groups\n> \"cython-github-notifications\" group.\n> To unsubscribe from this group and stop receiving emails from it, send an\n> email to cython-github-notifications+unsubscribe@googlegroups.com.\n> To post to this group, send email to cython-github-notifications@\n> googlegroups.com.\n> To view this discussion on the web visit https://groups.google.com/d/\n> msgid/cython-github-notifications/cython/cython/issues/1909%40github.com\n> <https://groups.google.com/d/msgid/cython-github-notifications/cython/cython/issues/1909%40github.com?utm_medium=email&utm_source=footer>\n> .\n> For more options, visit https://groups.google.com/d/optout.\n>\n",
            "created_at": "2017-10-04T04:43:38Z",
            "html_url": "https://github.com/cython/cython/issues/1909#issuecomment-334048414",
            "id": 334048414,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/1909",
            "updated_at": "2017-10-04T04:43:38Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/334048414",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/20618978?v=4",
                "events_url": "https://api.github.com/users/cython-notifications/events{/privacy}",
                "followers_url": "https://api.github.com/users/cython-notifications/followers",
                "following_url": "https://api.github.com/users/cython-notifications/following{/other_user}",
                "gists_url": "https://api.github.com/users/cython-notifications/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/cython-notifications",
                "id": 20618978,
                "login": "cython-notifications",
                "organizations_url": "https://api.github.com/users/cython-notifications/orgs",
                "received_events_url": "https://api.github.com/users/cython-notifications/received_events",
                "repos_url": "https://api.github.com/users/cython-notifications/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/cython-notifications/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/cython-notifications/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/cython-notifications"
            }
        },
        {
            "author_association": "NONE",
            "body": "I apologize, I should have tried the latest version before posting this.  I had been using 0.24; when I attempt to compile the same code with 0.27.1, I do receive the error you mentioned.  I'll have to check with my admins to see if we can get that installed.  Sorry for wasting your time but thank you for the quick response.",
            "created_at": "2017-10-04T13:32:46Z",
            "html_url": "https://github.com/cython/cython/issues/1909#issuecomment-334156165",
            "id": 334156165,
            "issue_url": "https://api.github.com/repos/cython/cython/issues/1909",
            "updated_at": "2017-10-04T13:32:46Z",
            "url": "https://api.github.com/repos/cython/cython/issues/comments/334156165",
            "user": {
                "avatar_url": "https://avatars1.githubusercontent.com/u/1465618?v=4",
                "events_url": "https://api.github.com/users/rpmcnally/events{/privacy}",
                "followers_url": "https://api.github.com/users/rpmcnally/followers",
                "following_url": "https://api.github.com/users/rpmcnally/following{/other_user}",
                "gists_url": "https://api.github.com/users/rpmcnally/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/rpmcnally",
                "id": 1465618,
                "login": "rpmcnally",
                "organizations_url": "https://api.github.com/users/rpmcnally/orgs",
                "received_events_url": "https://api.github.com/users/rpmcnally/received_events",
                "repos_url": "https://api.github.com/users/rpmcnally/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/rpmcnally/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rpmcnally/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/rpmcnally"
            }
        }
    ],
    "comments": 2,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/1909/comments",
    "created_at": "2017-10-03T21:45:30Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars1.githubusercontent.com/u/1465618?v=4",
                "events_url": "https://api.github.com/users/rpmcnally/events{/privacy}",
                "followers_url": "https://api.github.com/users/rpmcnally/followers",
                "following_url": "https://api.github.com/users/rpmcnally/following{/other_user}",
                "gists_url": "https://api.github.com/users/rpmcnally/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/rpmcnally",
                "id": 1465618,
                "login": "rpmcnally",
                "organizations_url": "https://api.github.com/users/rpmcnally/orgs",
                "received_events_url": "https://api.github.com/users/rpmcnally/received_events",
                "repos_url": "https://api.github.com/users/rpmcnally/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/rpmcnally/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rpmcnally/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/rpmcnally"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2017-10-04T13:32:46Z",
            "event": "closed",
            "id": 1277959756,
            "url": "https://api.github.com/repos/cython/cython/issues/events/1277959756"
        }
    ],
    "events_url": "https://api.github.com/repos/cython/cython/issues/1909/events",
    "html_url": "https://github.com/cython/cython/issues/1909",
    "id": 262599576,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/1909/labels{/name}",
    "locked": false,
    "milestone": null,
    "number": 1909,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "closed",
    "title": "NameError for cimported pxd but no compile error",
    "updated_at": "2017-10-04T13:32:46Z",
    "url": "https://api.github.com/repos/cython/cython/issues/1909",
    "user": {
        "avatar_url": "https://avatars1.githubusercontent.com/u/1465618?v=4",
        "events_url": "https://api.github.com/users/rpmcnally/events{/privacy}",
        "followers_url": "https://api.github.com/users/rpmcnally/followers",
        "following_url": "https://api.github.com/users/rpmcnally/following{/other_user}",
        "gists_url": "https://api.github.com/users/rpmcnally/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/rpmcnally",
        "id": 1465618,
        "login": "rpmcnally",
        "organizations_url": "https://api.github.com/users/rpmcnally/orgs",
        "received_events_url": "https://api.github.com/users/rpmcnally/received_events",
        "repos_url": "https://api.github.com/users/rpmcnally/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/rpmcnally/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/rpmcnally/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/rpmcnally"
    }
}