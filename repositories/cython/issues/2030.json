{
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "With Cython 0.27.3 and GCC 5.4.0, cythonizing the following code\r\n\r\n```\r\ncdef class array:\r\n    pass\r\n\r\nclass Bar(object):\r\n    def do_something(self):\r\n        cdef int [:] view\r\n```\r\n\r\nleads to the error messages\r\n\r\n```\r\n/home/dom/temp/test/viewtest.c:1002:49: warning: ‘struct __pyx_array_obj’ declared inside parameter list\r\n static PyObject *__pyx_array_get_memview(struct __pyx_array_obj *); /*proto*/\r\n                                                 ^\r\n/home/dom/temp/test/viewtest.c:1002:49: warning: its scope is only this definition or declaration, which is probably not what you want\r\n/home/dom/temp/test/viewtest.c:1372:49: warning: ‘struct __pyx_array_obj’ declared inside parameter list\r\n static PyObject *__pyx_array_get_memview(struct __pyx_array_obj *__pyx_v_self);\r\n                                                 ^\r\n/home/dom/temp/test/viewtest.c:1372:18: error: conflicting types for ‘__pyx_array_get_memview’\r\n static PyObject *__pyx_array_get_memview(struct __pyx_array_obj *__pyx_v_self);\r\n                  ^\r\n/home/dom/temp/test/viewtest.c:1002:18: note: previous declaration of ‘__pyx_array_get_memview’ was here\r\n static PyObject *__pyx_array_get_memview(struct __pyx_array_obj *); /*proto*/\r\n                  ^\r\n/home/dom/temp/test/viewtest.c: In function ‘__pyx_array___pyx_pf_15View_dot_MemoryView_5array___cinit__’:\r\n/home/dom/temp/test/viewtest.c:1839:15: error: dereferencing pointer to incomplete type ‘struct __pyx_array_obj’\r\n   __pyx_v_self->ndim = ((int)__pyx_t_1);\r\n               ^\r\n/home/dom/temp/test/viewtest.c: At top level:\r\n/home/dom/temp/test/viewtest.c:2909:18: error: conflicting types for ‘__pyx_array_get_memview’\r\n static PyObject *__pyx_array_get_memview(struct __pyx_array_obj *__pyx_v_self) \r\n                  ^\r\n/home/dom/temp/test/viewtest.c:1372:18: note: previous declaration of ‘__pyx_array_get_memview’ was here\r\n static PyObject *__pyx_array_get_memview(struct __pyx_array_obj *__pyx_v_self);\r\n                  ^\r\n/home/dom/temp/test/viewtest.c: In function ‘__pyx_array_new’:\r\n/home/dom/temp/test/viewtest.c:3223:50: error: ‘__pyx_array_type’ undeclared (first use in this function)\r\n     __pyx_t_4 = __Pyx_PyObject_Call(((PyObject *)__pyx_array_type), __pyx_t_5, \r\n                                                  ^\r\n/home/dom/temp/test/viewtest.c:3223:50: note: each undeclared identifier is reported only once for each function it appears in\r\n/home/dom/temp/test/viewtest.c: In function ‘initviewtest’:\r\n/home/dom/temp/test/viewtest.c:14441:22: error: ‘__pyx_array_type’ undeclared (first use in this function)\r\n   if (PyDict_SetItem(__pyx_array_type->tp_dict, __pyx_n_s_pyx_getbuffer, __pyx_\r\n                      ^\r\n/home/dom/temp/test/viewtest.c: At top level:\r\n/home/dom/temp/test/viewtest.c:1692:12: warning: ‘__pyx_array___cinit__’ defined but not used [-Wunused-function]\r\n static int __pyx_array___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, \r\n            ^\r\n/home/dom/temp/test/viewtest.c:2720:13: warning: ‘__pyx_array___dealloc__’ defined but not used [-Wunused-function]\r\n static void __pyx_array___dealloc__(PyObject *__pyx_v_self) {\r\n             ^\r\n/home/dom/temp/test/viewtest.c:2851:18: warning: ‘__pyx_pw_15View_dot_MemoryView_5array_7memview_1__get__’ defined but not used [-Wunused-function]\r\n static PyObject *__pyx_pw_15View_dot_MemoryView_5array_7memview_1__get__(PyObje\r\n                  ^\r\n/home/dom/temp/test/viewtest.c:2909:18: warning: ‘__pyx_array_get_memview’ defined but not used [-Wunused-function]\r\n static PyObject *__pyx_array_get_memview(struct __pyx_array_obj *__pyx_v_self) \r\n                  ^\r\n/home/dom/temp/test/viewtest.c:2988:18: warning: ‘__pyx_array___getattr__’ defined but not used [-Wunused-function]\r\n static PyObject *__pyx_array___getattr__(PyObject *__pyx_v_self, PyObject *__py\r\n                  ^\r\n/home/dom/temp/test/viewtest.c:3053:18: warning: ‘__pyx_array___getitem__’ defined but not used [-Wunused-function]\r\n static PyObject *__pyx_array___getitem__(PyObject *__pyx_v_self, PyObject *__py\r\n                  ^\r\n/home/dom/temp/test/viewtest.c:3118:12: warning: ‘__pyx_array___setitem__’ defined but not used [-Wunused-function]\r\n static int __pyx_array___setitem__(PyObject *__pyx_v_self, PyObject *__pyx_v_it\r\n```",
    "closed_at": null,
    "comment_data": [],
    "comments": 0,
    "comments_url": "https://api.github.com/repos/cython/cython/issues/2030/comments",
    "created_at": "2017-11-30T19:46:17Z",
    "event_data": [],
    "events_url": "https://api.github.com/repos/cython/cython/issues/2030/events",
    "html_url": "https://github.com/cython/cython/issues/2030",
    "id": 278246207,
    "labels": [],
    "labels_url": "https://api.github.com/repos/cython/cython/issues/2030/labels{/name}",
    "locked": false,
    "milestone": null,
    "number": 2030,
    "repository_url": "https://api.github.com/repos/cython/cython",
    "state": "open",
    "title": "Compilation failure when using typed memoryviews in module containing a cdef class called \"array\"",
    "updated_at": "2017-11-30T19:46:17Z",
    "url": "https://api.github.com/repos/cython/cython/issues/2030",
    "user": {
        "avatar_url": "https://avatars0.githubusercontent.com/u/17165189?v=4",
        "events_url": "https://api.github.com/users/dominicelse/events{/privacy}",
        "followers_url": "https://api.github.com/users/dominicelse/followers",
        "following_url": "https://api.github.com/users/dominicelse/following{/other_user}",
        "gists_url": "https://api.github.com/users/dominicelse/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/dominicelse",
        "id": 17165189,
        "login": "dominicelse",
        "organizations_url": "https://api.github.com/users/dominicelse/orgs",
        "received_events_url": "https://api.github.com/users/dominicelse/received_events",
        "repos_url": "https://api.github.com/users/dominicelse/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/dominicelse/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/dominicelse/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/dominicelse"
    }
}